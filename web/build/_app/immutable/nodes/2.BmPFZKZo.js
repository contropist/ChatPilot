import{s as at,e as u,l as I,t as ke,c as d,a as y,w as U,o as E,b as Ce,d as f,f as o,i as N,g as a,p as K,D as At,h as Re,n as Pe,y as qe,C as re,B as Zt,j as Ye,r as dt,k as pt,z as We,A as Je,v as st,G as mt,H as lt,x as rt,E as Fe,F as Ws,I as gt,Q as Bt,q as Dt,ac as It,M as ar,N as or,O as ir,P as cr,u as ml}from"../chunks/scheduler.DiJq6vPF.js";import{S as ot,i as it,c as Qe,a as $e,m as et,t as je,d as ze,e as tt,g as Nt,f as Pt,b as Mt,h as ur}from"../chunks/index.BHjMAGPu.js";import{t as Ve}from"../chunks/Toaster.svelte_svelte_type_style_lang.BHLjDTk_.js";import{f as Js}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as Tt}from"../chunks/entry.qYnHbvI-.js";import{e as ol,p as gl,f as Ks,b as dr,d as fr,u as hr,h as Ys}from"../chunks/index.CZYlxN09.js";import{g as vr}from"../chunks/index.CKKoqNgn.js";import{g as pr}from"../chunks/index.DSqmScTb.js";import{a as mr,b as gr,u as _r,c as br,d as Xs}from"../chunks/index.BkffOsC6.js";import{L as qt,u as wt,k as Lt,e as il,m as vt,W as Qs,f as _l,b as Ot,a as yt,s as Ht,t as Qt,c as wr,l as $t,n as Wt,d as bl,p as yr,h as xr}from"../chunks/index.EObCQwOH.js";import{g as kr}from"../chunks/index.DVo8eK8d.js";import{T as cl,s as Cr,h as Ir,i as Er,j as Tr,g as Et,c as wl,k as Dr,l as yl,m as Mr,n as Vr,o as Lr,p as Ar,q as Sr,r as Or,t as Hr,v as Br,w as xl,x as Nr,y as Pr,f as jr,u as Ur,z as zr,A as Rr,b as $s}from"../chunks/index.BMQETGiF.js";import{c as Zr,b as qr,s as zt,g as Gr,d as Fr}from"../chunks/index.CSs7Pbog.js";import{M as ul,s as Wr}from"../chunks/Modal.ABNIb7Hi.js";import{h as Jr,i as Kr}from"../chunks/index.YOc9vhM2.js";import{g as Yr}from"../chunks/index.DDQdfmRd.js";import{b as Xr,a as er,c as Qr}from"../chunks/index.5O-GFq7L.js";import{e as Ue}from"../chunks/each.TZzUzPKO.js";import{g as $r}from"../chunks/_commonjsHelpers.BosuxZz1.js";import{A as en}from"../chunks/AdvancedParams.DFj4wfFd.js";import{r as tn}from"../chunks/index.C8A-Zzfp.js";const ln=(s,e)=>e.some(t=>s instanceof t);let kl,Cl;function sn(){return kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rn(){return Cl||(Cl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tr=new WeakMap,el=new WeakMap,lr=new WeakMap,Jt=new WeakMap,dl=new WeakMap;function nn(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",n)},i=()=>{t(xt(s.result)),r()},n=()=>{l(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",n)});return e.then(t=>{t instanceof IDBCursor&&tr.set(t,s)}).catch(()=>{}),dl.set(e,s),e}function an(s){if(el.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",n),s.removeEventListener("abort",n)},i=()=>{t(),r()},n=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",n),s.addEventListener("abort",n)});el.set(s,e)}let tl={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return el.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lr.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function on(s){tl=s(tl)}function cn(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Kt(this),e,...t);return lr.set(l,e.sort?e.sort():[e]),xt(l)}:rn().includes(s)?function(...e){return s.apply(Kt(this),e),xt(tr.get(this))}:function(...e){return xt(s.apply(Kt(this),e))}}function un(s){return typeof s=="function"?cn(s):(s instanceof IDBTransaction&&an(s),ln(s,sn())?new Proxy(s,tl):s)}function xt(s){if(s instanceof IDBRequest)return nn(s);if(Jt.has(s))return Jt.get(s);const e=un(s);return e!==s&&(Jt.set(s,e),dl.set(e,s)),e}const Kt=s=>dl.get(s);function dn(s,e,{blocked:t,upgrade:l,blocking:r,terminated:i}={}){const n=indexedDB.open(s,e),c=xt(n);return l&&n.addEventListener("upgradeneeded",h=>{l(xt(n.result),h.oldVersion,h.newVersion,xt(n.transaction),h)}),t&&n.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{i&&h.addEventListener("close",()=>i()),r&&h.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}function Il(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),xt(t).then(()=>{})}const fn=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],Yt=new Map;function El(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yt.get(e))return Yt.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=hn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||fn.includes(t)))return;const i=async function(n,...c){const h=this.transaction(n,r?"readwrite":"readonly");let m=h.store;return l&&(m=m.index(c.shift())),(await Promise.all([m[t](...c),r&&h.done]))[0]};return Yt.set(e,i),i}on(s=>({...s,get:(e,t,l)=>El(e,t)||s.get(e,t,l),has:(e,t)=>!!El(e,t)||s.has(e,t)}));const sr=async(s="")=>{let e=null;const t=await fetch(`${qt}/v1/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;const l=Array.isArray(t)?t:(t==null?void 0:t.data)??null;return l&&l.map(r=>({id:r.id,name:r.name??r.id,external:!0,source:"litellm"})).sort((r,i)=>r.name.localeCompare(i.name))},Xt=async(s="")=>{let e=null;const t=await fetch(`${qt}/model/info`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;return Array.isArray(t)?t:(t==null?void 0:t.data)??null},vn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({model_name:e.name,litellm_params:{model:e.model,...e.api_base===""?{}:{api_base:e.api_base},...e.api_key===""?{}:{api_key:e.api_key},...isNaN(parseInt(e.rpm))?{}:{rpm:parseInt(e.rpm)},...e.max_tokens===""?{}:{max_tokens:e.max_tokens}}})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l},pn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/delete`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({id:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l};function Tl(s){let e,t,l,r="Current Password",i,n,c,h,m,_,p="New Password",v,g,b,w,x,C,V="Confirm Password",k,O,B,S,j,R='<button class="px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium">Update password</button>',A,D;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("div"),c=u("input"),h=I(),m=u("div"),_=u("div"),_.textContent=p,v=I(),g=u("div"),b=u("input"),w=I(),x=u("div"),C=u("div"),C.textContent=V,k=I(),O=u("div"),B=u("input"),S=I(),j=u("div"),j.innerHTML=R,this.h()},l(M){e=d(M,"DIV",{class:!0});var z=y(e);t=d(z,"DIV",{class:!0});var q=y(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1oy1m4o"&&(l.textContent=r),i=E(q),n=d(q,"DIV",{class:!0});var H=y(n);c=d(H,"INPUT",{class:!0,type:!0,autocomplete:!0}),H.forEach(f),q.forEach(f),h=E(z),m=d(z,"DIV",{class:!0});var T=y(m);_=d(T,"DIV",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-1jv7gzz"&&(_.textContent=p),v=E(T),g=d(T,"DIV",{class:!0});var L=y(g);b=d(L,"INPUT",{class:!0,type:!0,autocomplete:!0}),L.forEach(f),T.forEach(f),w=E(z),x=d(z,"DIV",{class:!0});var F=y(x);C=d(F,"DIV",{class:!0,"data-svelte-h":!0}),U(C)!=="svelte-6hovb9"&&(C.textContent=V),k=E(F),O=d(F,"DIV",{class:!0});var Z=y(O);B=d(Z,"INPUT",{class:!0,type:!0,autocomplete:!0}),Z.forEach(f),F.forEach(f),z.forEach(f),S=E(M),j=d(M,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-1qol27q"&&(j.innerHTML=R),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"type","password"),o(c,"autocomplete","current-password"),c.required=!0,o(n,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(_,"class","mb-1 text-xs text-gray-500"),o(b,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(b,"type","password"),o(b,"autocomplete","new-password"),b.required=!0,o(g,"class","flex-1"),o(m,"class","flex flex-col w-full"),o(C,"class","mb-1 text-xs text-gray-500"),o(B,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(B,"type","password"),o(B,"autocomplete","off"),B.required=!0,o(O,"class","flex-1"),o(x,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(j,"class","mt-3 flex justify-end")},m(M,z){N(M,e,z),a(e,t),a(t,l),a(t,i),a(t,n),a(n,c),re(c,s[1]),a(e,h),a(e,m),a(m,_),a(m,v),a(m,g),a(g,b),re(b,s[2]),a(e,w),a(e,x),a(x,C),a(x,k),a(x,O),a(O,B),re(B,s[3]),N(M,S,z),N(M,j,z),A||(D=[K(c,"input",s[6]),K(b,"input",s[7]),K(B,"input",s[8])],A=!0)},p(M,z){z&2&&c.value!==M[1]&&re(c,M[1]),z&4&&b.value!==M[2]&&re(b,M[2]),z&8&&B.value!==M[3]&&re(B,M[3])},d(M){M&&(f(e),f(S),f(j)),A=!1,qe(D)}}}function mn(s){let e,t,l,r="Change Password",i,n,c=s[0]?"Hide":"Show",h,m,_,p,v=s[0]&&Tl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("button"),h=ke(c),m=I(),v&&v.c(),this.h()},l(g){e=d(g,"FORM",{class:!0});var b=y(e);t=d(b,"DIV",{class:!0});var w=y(t);l=d(w,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1ofgszb"&&(l.textContent=r),i=E(w),n=d(w,"BUTTON",{class:!0,type:!0});var x=y(n);h=Ce(x,c),x.forEach(f),w.forEach(f),m=E(b),v&&v.l(b),b.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs font-medium text-gray-500"),o(n,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(g,b){N(g,e,b),a(e,t),a(t,l),a(t,i),a(t,n),a(n,h),a(e,m),v&&v.m(e,null),_||(p=[K(n,"click",s[5]),K(e,"submit",At(s[9]))],_=!0)},p(g,[b]){b&1&&c!==(c=g[0]?"Hide":"Show")&&Re(h,c),g[0]?v?v.p(g,b):(v=Tl(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:Pe,o:Pe,d(g){g&&f(e),v&&v.d(),_=!1,qe(p)}}}function gn(s,e,t){let l=!1,r="",i="",n="";const c=async()=>{i===n?(await Jr(localStorage.token,r,i).catch(b=>(Ve.error(b),null))&&Ve.success("Successfully updated."),t(1,r=""),t(2,i=""),t(3,n="")):(Ve.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,n=""))},h=()=>{t(0,l=!l)};function m(){r=this.value,t(1,r)}function _(){i=this.value,t(2,i)}function p(){n=this.value,t(3,n)}return[l,r,i,n,c,h,m,_,p,()=>{c()}]}class _n extends ot{constructor(e){super(),it(this,e,gn,mn,at,{})}}function bn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=Je(i,"path",{d:!0}),y(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){N(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function wn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=Je(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){N(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function yn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){N(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function xn(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){N(l,e,r),a(e,t)},d(l){l&&f(e)}}}function kn(s){let e,t,l,r,i,n="Profile",c,h,m,_,p,v,g,b,w,x='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',C,V,k="Use Gravatar",O,B,S,j,R="Name",A,D,M,z,q,H,T,L,F,Z,J,$,G='<div class="self-center text-xs font-medium">JWT Token</div>',X,P,ee,Q,W,Y,le,ue,fe,me,ie,Ie,Be="Save",be,Te,Le;T=new _n({});function He(ce,ye){return ce[3]?wn:bn}let Ee=He(s),ge=Ee(s);function ne(ce,ye){return ce[4]?xn:yn}let Ae=ne(s),he=Ae(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=I(),i=u("div"),i.textContent=n,c=I(),h=u("div"),m=u("div"),_=u("div"),p=u("button"),v=u("img"),b=I(),w=u("div"),w.innerHTML=x,C=I(),V=u("button"),V.textContent=k,O=I(),B=u("div"),S=u("div"),j=u("div"),j.textContent=R,A=I(),D=u("div"),M=u("input"),z=I(),q=u("hr"),H=I(),Qe(T.$$.fragment),L=I(),F=u("hr"),Z=I(),J=u("div"),$=u("div"),$.innerHTML=G,X=I(),P=u("div"),ee=u("div"),Q=u("input"),Y=I(),le=u("button"),ge.c(),ue=I(),fe=u("button"),he.c(),me=I(),ie=u("div"),Ie=u("button"),Ie.textContent=Be,this.h()},l(ce){e=d(ce,"DIV",{class:!0});var ye=y(e);t=d(ye,"DIV",{class:!0});var pe=y(t);l=d(pe,"INPUT",{id:!0,type:!0,accept:!0}),r=E(pe),i=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-i4kc7u"&&(i.textContent=n),c=E(pe),h=d(pe,"DIV",{class:!0});var we=y(h);m=d(we,"DIV",{class:!0});var Se=y(m);_=d(Se,"DIV",{class:!0});var Oe=y(_);p=d(Oe,"BUTTON",{class:!0,type:!0});var Me=y(p);v=d(Me,"IMG",{src:!0,alt:!0,class:!0}),b=E(Me),w=d(Me,"DIV",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-1lmkrrg"&&(w.innerHTML=x),Me.forEach(f),Oe.forEach(f),C=E(Se),V=d(Se,"BUTTON",{class:!0,"data-svelte-h":!0}),U(V)!=="svelte-1u4yo8f"&&(V.textContent=k),Se.forEach(f),O=E(we),B=d(we,"DIV",{class:!0});var Xe=y(B);S=d(Xe,"DIV",{class:!0});var Ge=y(S);j=d(Ge,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-guynw3"&&(j.textContent=R),A=E(Ge),D=d(Ge,"DIV",{class:!0});var ve=y(D);M=d(ve,"INPUT",{class:!0,type:!0}),ve.forEach(f),Ge.forEach(f),Xe.forEach(f),we.forEach(f),z=E(pe),q=d(pe,"HR",{class:!0}),H=E(pe),$e(T.$$.fragment,pe),L=E(pe),F=d(pe,"HR",{class:!0}),Z=E(pe),J=d(pe,"DIV",{class:!0});var de=y(J);$=d(de,"DIV",{class:!0,"data-svelte-h":!0}),U($)!=="svelte-1rcg0br"&&($.innerHTML=G),X=E(de),P=d(de,"DIV",{class:!0});var te=y(P);ee=d(te,"DIV",{class:!0});var oe=y(ee);Q=d(oe,"INPUT",{class:!0,type:!0}),Y=E(oe),le=d(oe,"BUTTON",{class:!0});var ae=y(le);ge.l(ae),ae.forEach(f),oe.forEach(f),ue=E(te),fe=d(te,"BUTTON",{class:!0});var _e=y(fe);he.l(_e),_e.forEach(f),te.forEach(f),de.forEach(f),pe.forEach(f),me=E(ye),ie=d(ye,"DIV",{class:!0});var se=y(ie);Ie=d(se,"BUTTON",{class:!0,"data-svelte-h":!0}),U(Ie)!=="svelte-1v4747v"&&(Ie.textContent=Be),se.forEach(f),ye.forEach(f),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),o(i,"class","mb-2.5 text-sm font-medium"),Zt(v.src,g=s[1]!==""?s[1]:"/user.png")||o(v,"src",g),o(v,"alt","profile"),o(v,"class","rounded-full w-16 h-16 object-cover"),o(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(p,"class","relative rounded-full dark:bg-gray-700"),o(p,"type","button"),o(_,"class","self-center"),o(V,"class","text-xs text-gray-600"),o(m,"class","flex flex-col"),o(j,"class","mb-1 text-xs text-gray-500"),o(M,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(M,"type","text"),M.required=!0,o(D,"class","flex-1"),o(S,"class","flex flex-col w-full"),o(B,"class","flex-1"),o(h,"class","flex space-x-5"),o(q,"class","dark:border-gray-700 my-4"),o(F,"class","dark:border-gray-700 my-4"),o($,"class","flex w-full justify-between"),o(Q,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(Q,"type",W=s[3]?"text":"password"),Q.value=localStorage.token,Q.disabled=!0,o(le,"class","dark:bg-gray-800 px-2 transition rounded-r-lg"),o(ee,"class","flex w-full"),o(fe,"class","ml-1.5 px-1.5 py-1 hover:bg-gray-800 transition rounded-lg"),o(P,"class","flex mt-2"),o(J,"class","w-full justify-between hidden"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(Ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(ie,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ce,ye){N(ce,e,ye),a(e,t),a(t,l),s[8](l),a(t,r),a(t,i),a(t,c),a(t,h),a(h,m),a(m,_),a(_,p),a(p,v),a(p,b),a(p,w),a(m,C),a(m,V),a(h,O),a(h,B),a(B,S),a(S,j),a(S,A),a(S,D),a(D,M),re(M,s[2]),a(t,z),a(t,q),a(t,H),et(T,t,null),a(t,L),a(t,F),a(t,Z),a(t,J),a(J,$),a(J,X),a(J,P),a(P,ee),a(ee,Q),a(ee,Y),a(ee,le),ge.m(le,null),a(P,ue),a(P,fe),he.m(fe,null),a(e,me),a(e,ie),a(ie,Ie),be=!0,Te||(Le=[K(l,"change",s[9]),K(p,"click",s[10]),K(V,"click",s[11]),K(M,"input",s[12]),K(le,"click",s[13]),K(fe,"click",s[14]),K(Ie,"click",s[15])],Te=!0)},p(ce,[ye]){(!be||ye&2&&!Zt(v.src,g=ce[1]!==""?ce[1]:"/user.png"))&&o(v,"src",g),ye&4&&M.value!==ce[2]&&re(M,ce[2]),(!be||ye&8&&W!==(W=ce[3]?"text":"password"))&&o(Q,"type",W),Ee!==(Ee=He(ce))&&(ge.d(1),ge=Ee(ce),ge&&(ge.c(),ge.m(le,null))),Ae!==(Ae=ne(ce))&&(he.d(1),he=Ae(ce),he&&(he.c(),he.m(fe,null)))},i(ce){be||(je(T.$$.fragment,ce),be=!0)},o(ce){ze(T.$$.fragment,ce),be=!1},d(ce){ce&&f(e),s[8](null),tt(T),ge.d(),he.d(),Te=!1,qe(Le)}}}function Cn(s,e,t){let l;Ye(s,wt,k=>t(6,l=k));let{saveHandler:r}=e,i="",n="",c=!1,h=!1,m;const _=async()=>{const k=await Kr(localStorage.token,n,i).catch(O=>{Ve.error(O)});return k?(await wt.set(k),!0):!1};dt(()=>{t(2,n=l.name),t(1,i=l.profile_image_url)});function p(k){pt[k?"unshift":"push"](()=>{m=k,t(5,m)})}const v=k=>{const O=m.files??[];let B=new FileReader;B.onload=S=>{let j=`${S.target.result}`;const R=new Image;R.src=j,R.onload=function(){const A=document.createElement("canvas"),D=A.getContext("2d"),M=R.width/R.height;let z,q;M>1?(z=100*M,q=100):(z=100,q=100/M),A.width=100,A.height=100;const H=(100-z)/2,T=(100-q)/2;D.drawImage(R,H,T,z,q);const L=A.toDataURL("image/jpeg");t(1,i=L),t(5,m.files=null,m)}},O.length>0&&["image/gif","image/jpeg","image/png"].includes(O[0].type)&&B.readAsDataURL(O[0])},g=()=>{m.click()},b=async()=>{const k=await Yr(l.email);t(1,i=k)};function w(){n=this.value,t(2,n)}const x=()=>{t(3,c=!c)},C=()=>{Zr(localStorage.token),t(4,h=!0),setTimeout(()=>{t(4,h=!1)},2e3)},V=async()=>{await _()&&r()};return s.$$set=k=>{"saveHandler"in k&&t(0,r=k.saveHandler)},[r,i,n,c,h,m,l,_,p,v,g,b,w,x,C,V]}class In extends ot{constructor(e){super(),it(this,e,Cn,kn,at,{saveHandler:0})}}function Dl(s){let e,t,l,r,i="Ollama Version",n,c,h,m=(s[0]??"N/A")+"",_;return{c(){e=u("hr"),t=I(),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),_=ke(m),this.h()},l(p){e=d(p,"HR",{class:!0}),t=E(p),l=d(p,"DIV",{});var v=y(l);r=d(v,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-d3hsg3"&&(r.textContent=i),n=E(v),c=d(v,"DIV",{class:!0});var g=y(c);h=d(g,"DIV",{class:!0});var b=y(h);_=Ce(b,m),b.forEach(f),g.forEach(f),v.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(h,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(c,"class","flex w-full")},m(p,v){N(p,e,v),N(p,t,v),N(p,l,v),a(l,r),a(l,n),a(l,c),a(c,h),a(h,_)},p(p,v){v&1&&m!==(m=(p[0]??"N/A")+"")&&Re(_,m)},d(p){p&&(f(e),f(t),f(l))}}}function En(s){let e,t,l,r,i,n,c,h,m,_,p,v,g,b,w,x,C,V,k='<a href="https://github.com/shibing624/ChatPilot" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/shibing624/ChatPilot?style=social&amp;label=Star us on Github"/></a>',O,B,S='Created by <a class="text-gray-500 dark:text-gray-300 font-medium" href="https://github.com/shibing624" target="_blank">shibing624</a>',j=s[0]&&Dl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=ke(s[1]),c=ke(" Version"),h=I(),m=u("div"),_=u("div"),p=u("div"),v=ke("v"),g=ke(Lt),b=I(),j&&j.c(),w=I(),x=u("hr"),C=I(),V=u("div"),V.innerHTML=k,O=I(),B=u("div"),B.innerHTML=S,this.h()},l(R){e=d(R,"DIV",{class:!0});var A=y(e);t=d(A,"DIV",{class:!0});var D=y(t);l=d(D,"DIV",{});var M=y(l);r=d(M,"DIV",{class:!0});var z=y(r);i=d(z,"DIV",{});var q=y(i);n=Ce(q,s[1]),c=Ce(q," Version"),q.forEach(f),z.forEach(f),h=E(M),m=d(M,"DIV",{class:!0});var H=y(m);_=d(H,"DIV",{class:!0});var T=y(_);p=d(T,"DIV",{});var L=y(p);v=Ce(L,"v"),g=Ce(L,Lt),L.forEach(f),T.forEach(f),H.forEach(f),M.forEach(f),b=E(D),j&&j.l(D),w=E(D),x=d(D,"HR",{class:!0}),C=E(D),V=d(D,"DIV",{class:!0,"data-svelte-h":!0}),U(V)!=="svelte-pt60dl"&&(V.innerHTML=k),O=E(D),B=d(D,"DIV",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-oynnw2"&&(B.innerHTML=S),D.forEach(f),A.forEach(f),this.h()},h(){o(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(m,"class","flex w-full justify-between items-center"),o(x,"class","dark:border-gray-700"),o(V,"class","flex space-x-1"),o(B,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(R,A){N(R,e,A),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,c),a(l,h),a(l,m),a(m,_),a(_,p),a(p,v),a(p,g),a(t,b),j&&j.m(t,null),a(t,w),a(t,x),a(t,C),a(t,V),a(t,O),a(t,B)},p(R,[A]){A&2&&Re(n,R[1]),R[0]?j?j.p(R,A):(j=Dl(R),j.c(),j.m(t,w)):j&&(j.d(1),j=null)},i:Pe,o:Pe,d(R){R&&f(e),j&&j.d()}}}function Tn(s,e,t){let l;Ye(s,il,h=>t(1,l=h));let r="",i=null,n={current:"",latest:""};const c=async()=>{i=null,n=await Xr().catch(h=>({current:Lt,latest:Lt})),console.log(n),i=qr(n.latest,n.current),console.log(i)};return dt(async()=>{t(0,r=await ol(localStorage.token).catch(h=>"")),c()}),[r,l]}class Dn extends ot{constructor(e){super(),it(this,e,Tn,En,at,{})}}var ll={exports:{}},sl={exports:{}},rl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var i=l;l=null,i.apply(this,r)}}s.exports=e.default})(rl,rl.exports);var Mn=rl.exports,kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.fallback=rr;kt.wrap=nr;var Vn=kt.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Ln=kt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,An=kt.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function rr(s){setTimeout(s,0)}function nr(s){return(e,...t)=>s(()=>e(...t))}var St;Vn?St=queueMicrotask:Ln?St=setImmediate:An?St=process.nextTick:St=rr;kt.default=nr(St);var nl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,n){n.prev=i,n.next=i.next,i.next?i.next.prev=n:this.tail=n,i.next=n,this.length+=1}insertBefore(i,n){n.prev=i.prev,n.next=i,i.prev?i.prev.next=n:this.head=n,i.prev=n,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):l(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):l(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var n=this.head;n;){var{next:c}=n;i(n)&&this.removeLink(n),n=c}return this}}e.default=t;function l(r,i){r.length=1,r.head=r.tail=i}s.exports=e.default})(nl,nl.exports);var Sn=nl.exports,bt={},Rt={exports:{}},al={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(al,al.exports);var On=al.exports,Ml;function Hn(){return Ml||(Ml=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=On,l=c(t),r=kt,i=c(r),n=fl();function c(p){return p&&p.__esModule?p:{default:p}}function h(p){return(0,n.isAsync)(p)?function(...v){const g=v.pop(),b=p.apply(this,v);return m(b,g)}:(0,l.default)(function(v,g){var b;try{b=p.apply(this,v)}catch(w){return g(w)}if(b&&typeof b.then=="function")return m(b,g);g(null,b)})}function m(p,v){return p.then(g=>{_(v,null,g)},g=>{_(v,g&&(g instanceof Error||g.message)?g:new Error(g))})}function _(p,v,g){try{p(v,g)}catch(b){(0,i.default)(w=>{throw w},b)}}s.exports=e.default}(Rt,Rt.exports)),Rt.exports}var Vl;function fl(){if(Vl)return bt;Vl=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.isAsyncIterable=bt.isAsyncGenerator=bt.isAsync=void 0;var s=Hn(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function i(c){return typeof c[Symbol.asyncIterator]=="function"}function n(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return bt.default=n,bt.isAsync=l,bt.isAsyncGenerator=r,bt.isAsyncIterable=i,bt}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=Mn,l=_(t),r=kt,i=_(r),n=Sn,c=_(n),h=fl(),m=_(h);function _(v){return v&&v.__esModule?v:{default:v}}function p(v,g,b){if(g==null)g=1;else if(g===0)throw new RangeError("Concurrency must not be zero");var w=(0,m.default)(v),x=0,C=[];const V={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function k(H,T){V[H].push(T)}function O(H,T){const L=(...F)=>{B(H,L),T(...F)};V[H].push(L)}function B(H,T){if(!H)return Object.keys(V).forEach(L=>V[L]=[]);if(!T)return V[H]=[];V[H]=V[H].filter(L=>L!==T)}function S(H,...T){V[H].forEach(L=>L(...T))}var j=!1;function R(H,T,L,F){if(F!=null&&typeof F!="function")throw new Error("task callback must be a function");q.started=!0;var Z,J;function $(X,...P){if(X)return L?J(X):Z();if(P.length<=1)return Z(P[0]);Z(P)}var G=q._createTaskItem(H,L?$:F||$);if(T?q._tasks.unshift(G):q._tasks.push(G),j||(j=!0,(0,i.default)(()=>{j=!1,q.process()})),L||!F)return new Promise((X,P)=>{Z=X,J=P})}function A(H){return function(T,...L){x-=1;for(var F=0,Z=H.length;F<Z;F++){var J=H[F],$=C.indexOf(J);$===0?C.shift():$>0&&C.splice($,1),J.callback(T,...L),T!=null&&S("error",T,J.data)}x<=q.concurrency-q.buffer&&S("unsaturated"),q.idle()&&S("drain"),q.process()}}function D(H){return H.length===0&&q.idle()?((0,i.default)(()=>S("drain")),!0):!1}const M=H=>T=>{if(!T)return new Promise((L,F)=>{O(H,(Z,J)=>{if(Z)return F(Z);L(J)})});B(H),k(H,T)};var z=!1,q={_tasks:new c.default,_createTaskItem(H,T){return{data:H,callback:T}},*[Symbol.iterator](){yield*q._tasks[Symbol.iterator]()},concurrency:g,payload:b,buffer:g/4,started:!1,paused:!1,push(H,T){return Array.isArray(H)?D(H)?void 0:H.map(L=>R(L,!1,!1,T)):R(H,!1,!1,T)},pushAsync(H,T){return Array.isArray(H)?D(H)?void 0:H.map(L=>R(L,!1,!0,T)):R(H,!1,!0,T)},kill(){B(),q._tasks.empty()},unshift(H,T){return Array.isArray(H)?D(H)?void 0:H.map(L=>R(L,!0,!1,T)):R(H,!0,!1,T)},unshiftAsync(H,T){return Array.isArray(H)?D(H)?void 0:H.map(L=>R(L,!0,!0,T)):R(H,!0,!0,T)},remove(H){q._tasks.remove(H)},process(){if(!z){for(z=!0;!q.paused&&x<q.concurrency&&q._tasks.length;){var H=[],T=[],L=q._tasks.length;q.payload&&(L=Math.min(L,q.payload));for(var F=0;F<L;F++){var Z=q._tasks.shift();H.push(Z),C.push(Z),T.push(Z.data)}x+=1,q._tasks.length===0&&S("empty"),x===q.concurrency&&S("saturated");var J=(0,l.default)(A(H));w(T,J)}z=!1}},length(){return q._tasks.length},running(){return x},workersList(){return C},idle(){return q._tasks.length+x===0},pause(){q.paused=!0},resume(){q.paused!==!1&&(q.paused=!1,(0,i.default)(q.process))}};return Object.defineProperties(q,{saturated:{writable:!1,value:M("saturated")},unsaturated:{writable:!1,value:M("unsaturated")},empty:{writable:!1,value:M("empty")},drain:{writable:!1,value:M("drain")},error:{writable:!1,value:M("error")}}),q}s.exports=e.default})(sl,sl.exports);var Bn=sl.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){var m=(0,i.default)(c);return(0,l.default)((_,p)=>{m(_[0],p)},h,1)};var t=Bn,l=n(t),r=fl(),i=n(r);function n(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(ll,ll.exports);var Nn=ll.exports;const Pn=$r(Nn);function Ll(s,e,t){const l=s.slice();return l[68]=e[t],l}function Al(s,e,t){const l=s.slice();return l[68]=e[t],l}function Sl(s,e,t){const l=s.slice();return l[68]=e[t],l}function Ol(s,e,t){const l=s.slice();return l[75]=e[t],l[77]=t,l}function Hl(s){let e,t,l="Manage Ollama Models",r,i,n,c,h,m="Pull a model from Ollama.com",_,p,v,g,b,w,x,C,V='<div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500">To access the available model names for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank">click here.</a></div>',k,O=Object.keys(s[17]).length>0,B,S,j,R="Delete a model",A,D,M,z,q,H,T,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',F,Z,J,$,G="Experimental",X,P,ee=s[15]?"Hide":"Show",Q,W,Y,le,ue,fe,me,ie=s[11].length>0&&Bl(s);function Ie(ne,Ae){return ne[18]?zn:Un}let Be=Ie(s),be=Be(s),Te=O&&jl(s),Le=!s[26]&&zl(),He=Ue(s[27].filter(s[39])),Ee=[];for(let ne=0;ne<He.length;ne+=1)Ee[ne]=Rl(Al(s,He,ne));let ge=s[15]&&Zl(s);return{c(){e=u("div"),t=u("div"),t.textContent=l,r=I(),ie&&ie.c(),i=I(),n=u("div"),c=u("div"),h=u("div"),h.textContent=m,_=I(),p=u("div"),v=u("div"),g=u("input"),b=I(),w=u("button"),be.c(),x=I(),C=u("div"),C.innerHTML=V,k=I(),Te&&Te.c(),B=I(),S=u("div"),j=u("div"),j.textContent=R,A=I(),D=u("div"),M=u("div"),z=u("select"),Le&&Le.c(),q=st();for(let ne=0;ne<Ee.length;ne+=1)Ee[ne].c();H=I(),T=u("button"),T.innerHTML=L,F=I(),Z=u("div"),J=u("div"),$=u("div"),$.textContent=G,X=I(),P=u("button"),Q=ke(ee),W=I(),ge&&ge.c(),Y=I(),le=u("hr"),this.h()},l(ne){e=d(ne,"DIV",{class:!0});var Ae=y(e);t=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-17t8qb7"&&(t.textContent=l),r=E(Ae),ie&&ie.l(Ae),i=E(Ae),n=d(Ae,"DIV",{class:!0});var he=y(n);c=d(he,"DIV",{});var ce=y(c);h=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1ipic0a"&&(h.textContent=m),_=E(ce),p=d(ce,"DIV",{class:!0});var ye=y(p);v=d(ye,"DIV",{class:!0});var pe=y(v);g=d(pe,"INPUT",{class:!0,placeholder:!0}),pe.forEach(f),b=E(ye),w=d(ye,"BUTTON",{class:!0});var we=y(w);be.l(we),we.forEach(f),ye.forEach(f),x=E(ce),C=d(ce,"DIV",{"data-svelte-h":!0}),U(C)!=="svelte-r3qwax"&&(C.innerHTML=V),k=E(ce),Te&&Te.l(ce),ce.forEach(f),B=E(he),S=d(he,"DIV",{});var Se=y(S);j=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-kr6ajt"&&(j.textContent=R),A=E(Se),D=d(Se,"DIV",{class:!0});var Oe=y(D);M=d(Oe,"DIV",{class:!0});var Me=y(M);z=d(Me,"SELECT",{class:!0,placeholder:!0});var Xe=y(z);Le&&Le.l(Xe),q=st();for(let te=0;te<Ee.length;te+=1)Ee[te].l(Xe);Xe.forEach(f),Me.forEach(f),H=E(Oe),T=d(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-1u0ox72"&&(T.innerHTML=L),Oe.forEach(f),Se.forEach(f),F=E(he),Z=d(he,"DIV",{class:!0});var Ge=y(Z);J=d(Ge,"DIV",{class:!0});var ve=y(J);$=d(ve,"DIV",{class:!0,"data-svelte-h":!0}),U($)!=="svelte-17gcyvk"&&($.textContent=G),X=E(ve),P=d(ve,"BUTTON",{class:!0,type:!0});var de=y(P);Q=Ce(de,ee),de.forEach(f),ve.forEach(f),Ge.forEach(f),W=E(he),ge&&ge.l(he),he.forEach(f),Ae.forEach(f),Y=E(ne),le=d(ne,"HR",{class:!0}),this.h()},h(){o(t,"class","text-sm font-medium"),o(h,"class","mb-2 text-sm font-medium"),o(g,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(g,"placeholder","Enter model tag (e.g. mistral:7b)"),o(v,"class","flex-1 mr-2"),o(w,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),w.disabled=s[18],o(p,"class","flex w-full"),o(j,"class","mb-2 text-sm font-medium"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder","Select a model"),s[26]===void 0&&mt(()=>s[40].call(z)),o(M,"class","flex-1 mr-2"),o(T,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(D,"class","flex w-full"),o($,"class","text-sm font-medium"),o(P,"class","text-xs font-medium text-gray-500"),o(P,"type","button"),o(J,"class","flex justify-between items-center text-xs"),o(Z,"class","pt-1"),o(n,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5"),o(le,"class","dark:border-gray-700 my-2")},m(ne,Ae){N(ne,e,Ae),a(e,t),a(e,r),ie&&ie.m(e,null),a(e,i),a(e,n),a(n,c),a(c,h),a(c,_),a(c,p),a(p,v),a(v,g),re(g,s[19]),a(p,b),a(p,w),be.m(w,null),a(c,x),a(c,C),a(c,k),Te&&Te.m(c,null),a(n,B),a(n,S),a(S,j),a(S,A),a(S,D),a(D,M),a(M,z),Le&&Le.m(z,null),a(z,q);for(let he=0;he<Ee.length;he+=1)Ee[he]&&Ee[he].m(z,null);lt(z,s[26],!0),a(D,H),a(D,T),a(n,F),a(n,Z),a(Z,J),a(J,$),a(J,X),a(J,P),a(P,Q),a(n,W),ge&&ge.m(n,null),N(ne,Y,Ae),N(ne,le,Ae),ue=!0,fe||(me=[K(g,"input",s[37]),K(w,"click",s[38]),K(z,"change",s[40]),K(T,"click",s[41]),K(P,"click",s[42])],fe=!0)},p(ne,Ae){if(ne[11].length>0?ie?(ie.p(ne,Ae),Ae[0]&2048&&je(ie,1)):(ie=Bl(ne),ie.c(),je(ie,1),ie.m(e,i)):ie&&(Nt(),ze(ie,1,1,()=>{ie=null}),Pt()),Ae[0]&524288&&g.value!==ne[19]&&re(g,ne[19]),Be!==(Be=Ie(ne))&&(be.d(1),be=Be(ne),be&&(be.c(),be.m(w,null))),(!ue||Ae[0]&262144)&&(w.disabled=ne[18]),Ae[0]&131072&&(O=Object.keys(ne[17]).length>0),O?Te?Te.p(ne,Ae):(Te=jl(ne),Te.c(),Te.m(c,null)):Te&&(Te.d(1),Te=null),ne[26]?Le&&(Le.d(1),Le=null):Le||(Le=zl(),Le.c(),Le.m(z,q)),Ae[0]&134221824){He=Ue(ne[27].filter(ne[39]));let he;for(he=0;he<He.length;he+=1){const ce=Al(ne,He,he);Ee[he]?Ee[he].p(ce,Ae):(Ee[he]=Rl(ce),Ee[he].c(),Ee[he].m(z,null))}for(;he<Ee.length;he+=1)Ee[he].d(1);Ee.length=He.length}Ae[0]&201330688&&lt(z,ne[26]),(!ue||Ae[0]&32768)&&ee!==(ee=ne[15]?"Hide":"Show")&&Re(Q,ee),ne[15]?ge?ge.p(ne,Ae):(ge=Zl(ne),ge.c(),ge.m(n,null)):ge&&(ge.d(1),ge=null)},i(ne){ue||(je(ie),ue=!0)},o(ne){ze(ie),ue=!1},d(ne){ne&&(f(e),f(Y),f(le)),ie&&ie.d(),be.d(),Te&&Te.d(),Le&&Le.d(),rt(Ee,ne),ge&&ge.d(),fe=!1,qe(me)}}}function Bl(s){let e,t,l,r,i,n,c,h,m,_,p,v,g=Ue(s[11]),b=[];for(let x=0;x<g.length;x+=1)b[x]=Nl(Ol(s,g,x));c=new cl({props:{content:"Update All Models",placement:"top",$$slots:{default:[jn]},$$scope:{ctx:s}}});let w=s[13]&&Pl(s);return{c(){e=u("div"),t=u("div"),l=u("select");for(let x=0;x<b.length;x+=1)b[x].c();r=I(),i=u("div"),n=u("div"),Qe(c.$$.fragment),h=I(),w&&w.c(),m=st(),this.h()},l(x){e=d(x,"DIV",{class:!0});var C=y(e);t=d(C,"DIV",{class:!0});var V=y(t);l=d(V,"SELECT",{class:!0,placeholder:!0});var k=y(l);for(let S=0;S<b.length;S+=1)b[S].l(k);k.forEach(f),V.forEach(f),r=E(C),i=d(C,"DIV",{});var O=y(i);n=d(O,"DIV",{class:!0});var B=y(n);$e(c.$$.fragment,B),B.forEach(f),O.forEach(f),C.forEach(f),h=E(x),w&&w.l(x),m=st(),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select an Ollama instance"),s[12]===void 0&&mt(()=>s[35].call(l)),o(t,"class","flex-1 pb-1"),o(n,"class","flex w-full justify-end"),o(e,"class","flex gap-2")},m(x,C){N(x,e,C),a(e,t),a(t,l);for(let V=0;V<b.length;V+=1)b[V]&&b[V].m(l,null);lt(l,s[12],!0),a(e,r),a(e,i),a(i,n),et(c,n,null),N(x,h,C),w&&w.m(x,C),N(x,m,C),_=!0,p||(v=K(l,"change",s[35]),p=!0)},p(x,C){if(C[0]&2048){g=Ue(x[11]);let k;for(k=0;k<g.length;k+=1){const O=Ol(x,g,k);b[k]?b[k].p(O,C):(b[k]=Nl(O),b[k].c(),b[k].m(l,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=g.length}C[0]&4096&&lt(l,x[12]);const V={};C[2]&65536&&(V.$$scope={dirty:C,ctx:x}),c.$set(V),x[13]?w?w.p(x,C):(w=Pl(x),w.c(),w.m(m.parentNode,m)):w&&(w.d(1),w=null)},i(x){_||(je(c.$$.fragment,x),_=!0)},o(x){ze(c.$$.fragment,x),_=!1},d(x){x&&(f(e),f(h),f(m)),rt(b,x),tt(c),w&&w.d(x),p=!1,v()}}}function Nl(s){let e,t=s[75]+"",l;return{c(){e=u("option"),l=ke(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var i=y(e);l=Ce(i,t),i.forEach(f),this.h()},h(){e.__value=s[77],re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,i){N(r,e,i),a(e,l)},p(r,i){i[0]&2048&&t!==(t=r[75]+"")&&Re(l,t)},d(r){r&&f(e)}}}function jn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-vfv02l"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-2.5 flex gap-2 items-center bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(i,n){N(i,e,n),l||(r=K(e,"click",s[36]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function Pl(s){let e,t,l,r=s[14]?`(${s[14]}%)`:"",i;return{c(){e=ke('Updating "'),t=ke(s[13]),l=ke('" '),i=ke(r)},l(n){e=Ce(n,'Updating "'),t=Ce(n,s[13]),l=Ce(n,'" '),i=Ce(n,r)},m(n,c){N(n,e,c),N(n,t,c),N(n,l,c),N(n,i,c)},p(n,c){c[0]&8192&&Re(t,n[13]),c[0]&16384&&r!==(r=n[14]?`(${n[14]}%)`:"")&&Re(i,r)},d(n){n&&(f(e),f(t),f(l),f(i))}}}function Un(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=Je(i,"path",{d:!0}),y(t).forEach(f),l=Je(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){N(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function zn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function jl(s){let e,t=Ue(Object.keys(s[17])),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ul(Sl(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=st()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=st()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);N(r,e,i)},p(r,i){if(i[0]&131072){t=Ue(Object.keys(r[17]));let n;for(n=0;n<t.length;n+=1){const c=Sl(r,t,n);l[n]?l[n].p(c,i):(l[n]=Ul(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function Ul(s){let e,t,l=s[68]+"",r,i,n,c,h=(s[17][s[68]].pullProgress??0)+"",m,_,p,v,g=s[17][s[68]].digest+"",b,w;return{c(){e=u("div"),t=u("div"),r=ke(l),i=I(),n=u("div"),c=u("div"),m=ke(h),_=ke("%"),p=I(),v=u("div"),b=ke(g),w=I(),this.h()},l(x){e=d(x,"DIV",{class:!0});var C=y(e);t=d(C,"DIV",{class:!0});var V=y(t);r=Ce(V,l),V.forEach(f),i=E(C),n=d(C,"DIV",{class:!0});var k=y(n);c=d(k,"DIV",{class:!0,style:!0});var O=y(c);m=Ce(O,h),_=Ce(O,"%"),O.forEach(f),p=E(k),v=d(k,"DIV",{class:!0,style:!0});var B=y(v);b=Ce(B,g),B.forEach(f),k.forEach(f),w=E(C),C.forEach(f),this.h()},h(){o(t,"class","font-medium mb-1"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Fe(c,"width",Math.max(15,s[17][s[68]].pullProgress??0)+"%"),o(v,"class","mt-1 text-xs dark:text-gray-500"),Fe(v,"font-size","0.5rem"),o(n,"class",""),o(e,"class","flex flex-col")},m(x,C){N(x,e,C),a(e,t),a(t,r),a(e,i),a(e,n),a(n,c),a(c,m),a(c,_),a(n,p),a(n,v),a(v,b),a(e,w)},p(x,C){C[0]&131072&&l!==(l=x[68]+"")&&Re(r,l),C[0]&131072&&h!==(h=(x[17][x[68]].pullProgress??0)+"")&&Re(m,h),C[0]&131072&&Fe(c,"width",Math.max(15,x[17][x[68]].pullProgress??0)+"%"),C[0]&131072&&g!==(g=x[17][x[68]].digest+"")&&Re(b,g)},d(x){x&&f(e)}}}function zl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),U(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Rl(s){let e,t=s[68].name+" ("+(s[68].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=u("option"),l=ke(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=y(e);l=Ce(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[68].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){N(i,e,n),a(e,l)},p(i,n){n[0]&134221824&&t!==(t=i[68].name+" ("+(i[68].size/1024**3).toFixed(1)+" GB)")&&Re(l,t),n[0]&134221824&&r!==(r=i[68].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Zl(s){let e,t,l,r="Upload a GGUF model",i,n,c,h,m,_,p,v,g,b='To access the GGUF models available for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank">click here.</a>',w,x,C;function V(M,z){return M[20]==="file"?Zn:Rn}let k=V(s),O=k(s);function B(M,z){return M[20]==="file"?Gn:qn}let S=B(s),j=S(s),R=(s[20]==="file"&&s[21]&&s[21].length>0||s[20]==="url"&&s[22]!=="")&&ql(s),A=(s[20]==="file"&&s[21]&&s[21].length>0||s[20]==="url"&&s[22]!=="")&&Gl(s),D=s[25]!==null&&Fl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("button"),O.c(),c=I(),h=u("div"),m=u("div"),j.c(),_=I(),R&&R.c(),p=I(),A&&A.c(),v=I(),g=u("div"),g.innerHTML=b,w=I(),D&&D.c(),this.h()},l(M){e=d(M,"FORM",{});var z=y(e);t=d(z,"DIV",{class:!0});var q=y(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-rqd4vq"&&(l.textContent=r),i=E(q),n=d(q,"BUTTON",{class:!0,type:!0});var H=y(n);O.l(H),H.forEach(f),q.forEach(f),c=E(z),h=d(z,"DIV",{class:!0});var T=y(h);m=d(T,"DIV",{class:!0});var L=y(m);j.l(L),L.forEach(f),_=E(T),R&&R.l(T),T.forEach(f),p=E(z),A&&A.l(z),v=E(z),g=d(z,"DIV",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-qmcvsw"&&(g.innerHTML=b),w=E(z),D&&D.l(z),z.forEach(f),this.h()},h(){o(l,"class","text-sm font-medium"),o(n,"class","p-1 px-3 text-xs flex rounded transition"),o(n,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(m,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(g,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(M,z){N(M,e,z),a(e,t),a(t,l),a(t,i),a(t,n),O.m(n,null),a(e,c),a(e,h),a(h,m),j.m(m,null),a(h,_),R&&R.m(h,null),a(e,p),A&&A.m(e,null),a(e,v),a(e,g),a(e,w),D&&D.m(e,null),x||(C=[K(n,"click",s[43]),K(e,"submit",At(s[50]))],x=!0)},p(M,z){k!==(k=V(M))&&(O.d(1),O=k(M),O&&(O.c(),O.m(n,null))),S===(S=B(M))&&j?j.p(M,z):(j.d(1),j=S(M),j&&(j.c(),j.m(m,null))),M[20]==="file"&&M[21]&&M[21].length>0||M[20]==="url"&&M[22]!==""?R?R.p(M,z):(R=ql(M),R.c(),R.m(h,null)):R&&(R.d(1),R=null),M[20]==="file"&&M[21]&&M[21].length>0||M[20]==="url"&&M[22]!==""?A?A.p(M,z):(A=Gl(M),A.c(),A.m(e,v)):A&&(A.d(1),A=null),M[25]!==null?D?D.p(M,z):(D=Fl(M),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},d(M){M&&f(e),O.d(),j.d(),R&&R.d(),A&&A.d(),D&&D.d(),x=!1,qe(C)}}}function Rn(s){let e,t="URL Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1uzmer3"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Zn(s){let e,t="File Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-9j1d9a"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function qn(s){let e,t,l,r,i,n;return{c(){e=u("div"),t=u("input"),this.h()},l(c){e=d(c,"DIV",{class:!0});var h=y(e);t=d(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(f),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[22]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder","Type Hugging Face Resolve (Download) URL"),o(e,"class",r="flex-1 "+(s[22]!==""?"mr-2":""))},m(c,h){N(c,e,h),a(e,t),re(t,s[22]),i||(n=K(t,"input",s[48]),i=!0)},p(c,h){h[0]&4194304&&l!==(l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[22]!==""?"mr-2":""))&&o(t,"class",l),h[0]&4194304&&t.value!==c[22]&&re(t,c[22]),h[0]&4194304&&r!==(r="flex-1 "+(c[22]!==""?"mr-2":""))&&o(e,"class",r)},d(c){c&&f(e),i=!1,n()}}}function Gn(s){let e,t,l,r,i,n,c;function h(p,v){return p[21]&&p[21].length>0?Wn:Fn}let m=h(s),_=m(s);return{c(){e=u("div"),t=u("input"),l=I(),r=u("button"),_.c(),this.h()},l(p){e=d(p,"DIV",{class:!0});var v=y(e);t=d(v,"INPUT",{id:!0,type:!0,accept:!0}),l=E(v),r=d(v,"BUTTON",{type:!0,class:!0});var g=y(r);_.l(g),g.forEach(f),v.forEach(f),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(r,"type","button"),o(r,"class","w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[21]&&s[21].length>0?"mr-2":""))},m(p,v){N(p,e,v),a(e,t),s[44](t),a(e,l),a(e,r),_.m(r,null),n||(c=[K(t,"change",s[45]),K(t,"change",s[46]),K(r,"click",s[47])],n=!0)},p(p,v){m===(m=h(p))&&_?_.p(p,v):(_.d(1),_=m(p),_&&(_.c(),_.m(r,null))),v[0]&2097152&&i!==(i="flex-1 "+(p[21]&&p[21].length>0?"mr-2":""))&&o(e,"class",i)},d(p){p&&f(e),s[44](null),_.d(),n=!1,qe(c)}}}function Fn(s){let e;return{c(){e=ke("Click here to select")},l(t){e=Ce(t,"Click here to select")},m(t,l){N(t,e,l)},p:Pe,d(t){t&&f(e)}}}function Wn(s){let e=s[21][0].name+"",t;return{c(){t=ke(e)},l(l){t=Ce(l,e)},m(l,r){N(l,t,r)},p(l,r){r[0]&2097152&&e!==(e=l[21][0].name+"")&&Re(t,e)},d(l){l&&f(t)}}}function ql(s){let e;function t(i,n){return i[18]?Kn:Jn}let l=t(s),r=l(s);return{c(){e=u("button"),r.c(),this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0});var n=y(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","px-3 text-gray-100 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded transition"),o(e,"type","submit"),e.disabled=s[18]},m(i,n){N(i,e,n),r.m(e,null)},p(i,n){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),n[0]&262144&&(e.disabled=i[18])},d(i){i&&f(e),r.d()}}}function Jn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=Je(i,"path",{d:!0}),y(t).forEach(f),l=Je(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){N(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Kn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Gl(s){let e,t,l,r="Modelfile Content",i,n,c,h;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("textarea"),this.h()},l(m){e=d(m,"DIV",{});var _=y(e);t=d(_,"DIV",{});var p=y(t);l=d(p,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-18egiyi"&&(l.textContent=r),i=E(p),n=d(p,"TEXTAREA",{class:!0,rows:!0}),y(n).forEach(f),p.forEach(f),_.forEach(f),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(n,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),o(n,"rows","6")},m(m,_){N(m,e,_),a(e,t),a(t,l),a(t,i),a(t,n),re(n,s[23]),c||(h=K(n,"input",s[49]),c=!0)},p(m,_){_[0]&8388608&&re(n,m[23])},d(m){m&&f(e),c=!1,h()}}}function Fl(s){let e,t,l="Upload Progress",r,i,n,c=(s[25]??0)+"",h,m,_,p,v;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=I(),i=u("div"),n=u("div"),h=ke(c),m=ke("%"),_=I(),p=u("div"),v=ke(s[24]),this.h()},l(g){e=d(g,"DIV",{class:!0});var b=y(e);t=d(b,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-mf9p1m"&&(t.textContent=l),r=E(b),i=d(b,"DIV",{class:!0});var w=y(i);n=d(w,"DIV",{class:!0,style:!0});var x=y(n);h=Ce(x,c),m=Ce(x,"%"),x.forEach(f),w.forEach(f),_=E(b),p=d(b,"DIV",{class:!0,style:!0});var C=y(p);v=Ce(C,s[24]),C.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","mb-2 text-xs"),o(n,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Fe(n,"width",Math.max(15,s[25]??0)+"%"),o(i,"class","w-full rounded-full dark:bg-gray-800"),o(p,"class","mt-1 text-xs dark:text-gray-500"),Fe(p,"font-size","0.5rem"),o(e,"class","mt-2")},m(g,b){N(g,e,b),a(e,t),a(e,r),a(e,i),a(i,n),a(n,h),a(n,m),a(e,_),a(e,p),a(p,v)},p(g,b){b[0]&33554432&&c!==(c=(g[25]??0)+"")&&Re(h,c),b[0]&33554432&&Fe(n,"width",Math.max(15,g[25]??0)+"%"),b[0]&16777216&&Re(v,g[24])},d(g){g&&f(e)}}}function Wl(s){let e,t,l,r="Add a model",i,n,c=s[2]?"Hide Additional Params":"Show Additional Params",h,m,_,p,v,g,b,w,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',C,V,k,O=`Not sure what to add?
							<a class="text-gray-300 font-medium underline" href="https://litellm.vercel.app/docs/proxy/configs#quick-start" target="_blank">Click here for help.</a>`,B,S,j,R="Delete a model",A,D,M,z,q,H,T,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',F,Z,J=s[2]&&Jl(s),$=!s[10]&&Kl(),G=Ue(s[4]),X=[];for(let P=0;P<G.length;P+=1)X[P]=Yl(Ll(s,G,P));return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("button"),h=ke(c),m=I(),_=u("div"),p=u("div"),v=u("div"),g=u("input"),b=I(),w=u("button"),w.innerHTML=x,C=I(),J&&J.c(),V=I(),k=u("div"),k.innerHTML=O,B=I(),S=u("div"),j=u("div"),j.textContent=R,A=I(),D=u("div"),M=u("div"),z=u("select"),$&&$.c(),q=st();for(let P=0;P<X.length;P+=1)X[P].c();H=I(),T=u("button"),T.innerHTML=L,this.h()},l(P){e=d(P,"DIV",{});var ee=y(e);t=d(ee,"DIV",{class:!0});var Q=y(t);l=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-e2dfvv"&&(l.textContent=r),i=E(Q),n=d(Q,"BUTTON",{class:!0,type:!0});var W=y(n);h=Ce(W,c),W.forEach(f),Q.forEach(f),ee.forEach(f),m=E(P),_=d(P,"DIV",{class:!0});var Y=y(_);p=d(Y,"DIV",{class:!0});var le=y(p);v=d(le,"DIV",{class:!0});var ue=y(v);g=d(ue,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ue.forEach(f),b=E(le),w=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-11z5303"&&(w.innerHTML=x),le.forEach(f),C=E(Y),J&&J.l(Y),Y.forEach(f),V=E(P),k=d(P,"DIV",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-9qwejz"&&(k.innerHTML=O),B=E(P),S=d(P,"DIV",{});var fe=y(S);j=d(fe,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-vavmom"&&(j.textContent=R),A=E(fe),D=d(fe,"DIV",{class:!0});var me=y(D);M=d(me,"DIV",{class:!0});var ie=y(M);z=d(ie,"SELECT",{class:!0,placeholder:!0});var Ie=y(z);$&&$.l(Ie),q=st();for(let Be=0;Be<X.length;Be+=1)X[Be].l(Ie);Ie.forEach(f),ie.forEach(f),H=E(me),T=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-irplzb"&&(T.innerHTML=L),me.forEach(f),fe.forEach(f),this.h()},h(){o(l,"class","text-sm font-medium"),o(n,"class","text-xs font-medium text-gray-500"),o(n,"type","button"),o(t,"class","flex justify-between items-center text-xs"),o(g,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(g,"placeholder","Enter LiteLLM Model (litellm_params.model)"),o(g,"autocomplete","off"),o(v,"class","flex-1 mr-2"),o(w,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"class","flex w-full mb-1.5"),o(_,"class","my-2 space-y-2"),o(k,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),o(j,"class","mb-2.5 text-sm font-medium"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder","Select a model"),s[10]===void 0&&mt(()=>s[60].call(z)),o(M,"class","flex-1 mr-2"),o(T,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(D,"class","flex w-full")},m(P,ee){N(P,e,ee),a(e,t),a(t,l),a(t,i),a(t,n),a(n,h),N(P,m,ee),N(P,_,ee),a(_,p),a(p,v),a(v,g),re(g,s[0]),a(p,b),a(p,w),a(_,C),J&&J.m(_,null),N(P,V,ee),N(P,k,ee),N(P,B,ee),N(P,S,ee),a(S,j),a(S,A),a(S,D),a(D,M),a(M,z),$&&$.m(z,null),a(z,q);for(let Q=0;Q<X.length;Q+=1)X[Q]&&X[Q].m(z,null);lt(z,s[10],!0),a(D,H),a(D,T),F||(Z=[K(n,"click",s[52]),K(g,"input",s[53]),K(w,"click",s[54]),K(z,"change",s[60]),K(T,"click",s[61])],F=!0)},p(P,ee){if(ee[0]&4&&c!==(c=P[2]?"Hide Additional Params":"Show Additional Params")&&Re(h,c),ee[0]&1&&g.value!==P[0]&&re(g,P[0]),P[2]?J?J.p(P,ee):(J=Jl(P),J.c(),J.m(_,null)):J&&(J.d(1),J=null),P[10]?$&&($.d(1),$=null):$||($=Kl(),$.c(),$.m(z,q)),ee[0]&16){G=Ue(P[4]);let Q;for(Q=0;Q<G.length;Q+=1){const W=Ll(P,G,Q);X[Q]?X[Q].p(W,ee):(X[Q]=Yl(W),X[Q].c(),X[Q].m(z,null))}for(;Q<X.length;Q+=1)X[Q].d(1);X.length=G.length}ee[0]&1040&&lt(z,P[10])},d(P){P&&(f(e),f(m),f(_),f(V),f(k),f(B),f(S)),J&&J.d(),$&&$.d(),rt(X,P),F=!1,qe(Z)}}}function Jl(s){let e,t,l="Model Name",r,i,n,c,h,m,_,p="API Base URL",v,g,b,w,x,C,V,k="API Key",O,B,S,j,R,A,D,M="API RPM",z,q,H,T,L,F,Z,J="Max Tokens",$,G,X,P,ee,Q;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=I(),i=u("div"),n=u("div"),c=u("input"),h=I(),m=u("div"),_=u("div"),_.textContent=p,v=I(),g=u("div"),b=u("div"),w=u("input"),x=I(),C=u("div"),V=u("div"),V.textContent=k,O=I(),B=u("div"),S=u("div"),j=u("input"),R=I(),A=u("div"),D=u("div"),D.textContent=M,z=I(),q=u("div"),H=u("div"),T=u("input"),L=I(),F=u("div"),Z=u("div"),Z.textContent=J,$=I(),G=u("div"),X=u("div"),P=u("input"),this.h()},l(W){e=d(W,"DIV",{});var Y=y(e);t=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-6ir36y"&&(t.textContent=l),r=E(Y),i=d(Y,"DIV",{class:!0});var le=y(i);n=d(le,"DIV",{class:!0});var ue=y(n);c=d(ue,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ue.forEach(f),le.forEach(f),Y.forEach(f),h=E(W),m=d(W,"DIV",{});var fe=y(m);_=d(fe,"DIV",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-1kyw6ri"&&(_.textContent=p),v=E(fe),g=d(fe,"DIV",{class:!0});var me=y(g);b=d(me,"DIV",{class:!0});var ie=y(b);w=d(ie,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ie.forEach(f),me.forEach(f),fe.forEach(f),x=E(W),C=d(W,"DIV",{});var Ie=y(C);V=d(Ie,"DIV",{class:!0,"data-svelte-h":!0}),U(V)!=="svelte-mms6ub"&&(V.textContent=k),O=E(Ie),B=d(Ie,"DIV",{class:!0});var Be=y(B);S=d(Be,"DIV",{class:!0});var be=y(S);j=d(be,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),be.forEach(f),Be.forEach(f),Ie.forEach(f),R=E(W),A=d(W,"DIV",{});var Te=y(A);D=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-1f69sq3"&&(D.textContent=M),z=E(Te),q=d(Te,"DIV",{class:!0});var Le=y(q);H=d(Le,"DIV",{class:!0});var He=y(H);T=d(He,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),He.forEach(f),Le.forEach(f),Te.forEach(f),L=E(W),F=d(W,"DIV",{});var Ee=y(F);Z=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),U(Z)!=="svelte-h6gi62"&&(Z.textContent=J),$=E(Ee),G=d(Ee,"DIV",{class:!0});var ge=y(G);X=d(ge,"DIV",{class:!0});var ne=y(X);P=d(ne,"INPUT",{class:!0,placeholder:!0,type:!0,min:!0,autocomplete:!0}),ne.forEach(f),ge.forEach(f),Ee.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder","Enter Model Name (model_name)"),o(c,"autocomplete","off"),o(n,"class","flex-1"),o(i,"class","flex w-full"),o(_,"class","mb-1.5 text-sm font-medium"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder","Enter LiteLLM API Base URL (litellm_params.api_base)"),o(w,"autocomplete","off"),o(b,"class","flex-1"),o(g,"class","flex w-full"),o(V,"class","mb-1.5 text-sm font-medium"),o(j,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(j,"placeholder","Enter LiteLLM API Key (litellm_params.api_key)"),o(j,"autocomplete","off"),o(S,"class","flex-1"),o(B,"class","flex w-full"),o(D,"class","mb-1.5 text-sm font-medium"),o(T,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(T,"placeholder","Enter LiteLLM API RPM (litellm_params.rpm)"),o(T,"autocomplete","off"),o(H,"class","flex-1"),o(q,"class","flex w-full"),o(Z,"class","mb-1.5 text-sm font-medium"),o(P,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(P,"placeholder","Enter Max Tokens (litellm_params.max_tokens)"),o(P,"type","number"),o(P,"min","1"),o(P,"autocomplete","off"),o(X,"class","flex-1"),o(G,"class","flex w-full")},m(W,Y){N(W,e,Y),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),re(c,s[5]),N(W,h,Y),N(W,m,Y),a(m,_),a(m,v),a(m,g),a(g,b),a(b,w),re(w,s[6]),N(W,x,Y),N(W,C,Y),a(C,V),a(C,O),a(C,B),a(B,S),a(S,j),re(j,s[7]),N(W,R,Y),N(W,A,Y),a(A,D),a(A,z),a(A,q),a(q,H),a(H,T),re(T,s[8]),N(W,L,Y),N(W,F,Y),a(F,Z),a(F,$),a(F,G),a(G,X),a(X,P),re(P,s[9]),ee||(Q=[K(c,"input",s[55]),K(w,"input",s[56]),K(j,"input",s[57]),K(T,"input",s[58]),K(P,"input",s[59])],ee=!0)},p(W,Y){Y[0]&32&&c.value!==W[5]&&re(c,W[5]),Y[0]&64&&w.value!==W[6]&&re(w,W[6]),Y[0]&128&&j.value!==W[7]&&re(j,W[7]),Y[0]&256&&T.value!==W[8]&&re(T,W[8]),Y[0]&512&&Ws(P.value)!==W[9]&&re(P,W[9])},d(W){W&&(f(e),f(h),f(m),f(x),f(C),f(R),f(A),f(L),f(F)),ee=!1,qe(Q)}}}function Kl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),U(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Yl(s){let e,t=s[68].model_name+"",l,r;return{c(){e=u("option"),l=ke(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=y(e);l=Ce(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[68].model_info.id,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){N(i,e,n),a(e,l)},p(i,n){n[0]&16&&t!==(t=i[68].model_name+"")&&Re(l,t),n[0]&16&&r!==(r=i[68].model_info.id)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Yn(s){let e,t,l,r,i,n,c,h,m,_="Manage LiteLLM Models",p,v,g=s[1]?"Hide":"Show",b,w,x,C,V,k=s[16]&&Hl(s),O=s[1]&&Wl(s);return{c(){e=u("div"),t=u("div"),k&&k.c(),l=I(),r=u("div"),i=u("div"),n=u("div"),c=u("div"),h=u("div"),m=u("div"),m.textContent=_,p=I(),v=u("button"),b=ke(g),w=I(),O&&O.c(),this.h()},l(B){e=d(B,"DIV",{class:!0});var S=y(e);t=d(S,"DIV",{class:!0});var j=y(t);k&&k.l(j),l=E(j),r=d(j,"DIV",{class:!0});var R=y(r);i=d(R,"DIV",{class:!0});var A=y(i);n=d(A,"DIV",{});var D=y(n);c=d(D,"DIV",{class:!0});var M=y(c);h=d(M,"DIV",{class:!0});var z=y(h);m=d(z,"DIV",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-1uczrsy"&&(m.textContent=_),p=E(z),v=d(z,"BUTTON",{class:!0,type:!0});var q=y(v);b=Ce(q,g),q.forEach(f),z.forEach(f),M.forEach(f),w=E(D),O&&O.l(D),D.forEach(f),A.forEach(f),R.forEach(f),j.forEach(f),S.forEach(f),this.h()},h(){o(m,"class","text-sm font-medium"),o(v,"class","text-xs font-medium text-gray-500"),o(v,"type","button"),o(h,"class","flex justify-between items-center text-xs"),o(c,"class","mb-2"),o(i,"class","mt-2 space-y-3 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[23rem]"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(B,S){N(B,e,S),a(e,t),k&&k.m(t,null),a(t,l),a(t,r),a(r,i),a(i,n),a(n,c),a(c,h),a(h,m),a(h,p),a(h,v),a(v,b),a(n,w),O&&O.m(n,null),x=!0,C||(V=K(v,"click",s[51]),C=!0)},p(B,S){B[16]?k?(k.p(B,S),S[0]&65536&&je(k,1)):(k=Hl(B),k.c(),je(k,1),k.m(t,l)):k&&(Nt(),ze(k,1,1,()=>{k=null}),Pt()),(!x||S[0]&2)&&g!==(g=B[1]?"Hide":"Show")&&Re(b,g),B[1]?O?O.p(B,S):(O=Wl(B),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i(B){x||(je(k),x=!0)},o(B){ze(k),x=!1},d(B){B&&f(e),k&&k.d(),O&&O.d(),C=!1,V()}}}const Xn=3;function Qn(s,e,t){let l,r,i;Ye(s,wt,te=>t(64,l=te)),Ye(s,il,te=>t(65,r=te)),Ye(s,vt,te=>t(27,i=te));let{getModels:n}=e,c=!1,h=!1,m,_=[],p="",v="",g="",b="",w="",x="",C="",V=[],k=null,O=null,B=null,S=!1,j="";const R=Pn((te,oe)=>Q({modelName:te.modelName,callback:oe}),Xn);let A={},D=!1,M="",z="",q=null,H="file",T="",L="",F=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,Z="",J=null,$="";const G=async()=>{for(const te of i.filter(oe=>oe.size!=null&&(k===null?!0:((oe==null?void 0:oe.urls)??[]).includes(k)))){console.log(te),t(13,O=te.id);const oe=await gl(localStorage.token,te.id,k).catch(ae=>(Ve.error(ae),null));if(oe){const ae=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;)try{const{value:_e,done:se}=await ae.read();if(se)break;let xe=_e.split(`
`);for(const Ze of xe)if(Ze!==""){let De=JSON.parse(Ze);if(console.log(De),De.error)throw De.error;if(De.detail)throw De.detail;De.status&&(De.digest?(t(14,B=0),De.completed?t(14,B=Math.round(De.completed/De.total*1e3)/10):t(14,B=100)):Ve.success(De.status))}}catch(_e){console.log(_e)}}}t(13,O=null),t(14,B=null)},X=async()=>{const te=M.trim();if(A[te]){Ve.error(`Model '${te}' is already in queue for downloading.`);return}if(Object.keys(A).length===3){Ve.error("Maximum of 3 models can be downloaded simultaneously. Please try again later.");return}t(18,D=!0),R.push({modelName:te},async oe=>{const{modelName:ae}=oe;delete A[ae],console.log(oe),oe.success?(Ve.success(`Model '${ae}' has been successfully downloaded.`),new Notification(r,{body:`Model '${ae}' has been successfully downloaded.`,icon:`${Qs}/static/favicon.png`}),vt.set(await n())):Ve.error(oe.error)}),t(19,M=""),t(18,D=!1)},P=async()=>{t(18,D=!0),t(25,J=0);let te=!1,oe=null,ae="";if(H==="file"){const _e=T[0],se=new FormData;se.append("file",_e),oe=await fetch(`${_l}/utils/upload`,{method:"POST",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}},body:se}).catch(xe=>(console.log(xe),null))}else oe=await fetch(`${_l}/utils/download?url=${L}`,{method:"GET",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}}}).catch(_e=>(console.log(_e),null));if(oe&&oe.ok){const _e=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;){const{value:se,done:xe}=await _e.read();if(xe)break;try{let Ze=se.split(`
`);for(const De of Ze)if(De!==""){let Ne=JSON.parse(De.replace(/^data: /,""));if(Ne.progress&&t(25,J=Ne.progress),Ne.error)throw Ne.error;Ne.done&&(t(24,Z=Ne.blob),ae=Ne.name,te=!0)}}catch(Ze){console.log(Ze)}}}if(te){const _e=await dr(localStorage.token,`${ae}:latest`,`FROM @${Z}
${F}`);if(_e&&_e.ok){const se=_e.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;){const{value:xe,done:Ze}=await se.read();if(Ze)break;try{let De=xe.split(`
`);for(const Ne of De)if(Ne!==""){console.log(Ne);let Ke=JSON.parse(Ne);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;Ke.status&&(!Ke.digest&&!Ke.status.includes("writing")&&!Ke.status.includes("sha256")?Ve.success(Ke.status):Ke.digest&&(z=Ke.digest,Ke.completed?q=Math.round(Ke.completed/Ke.total*1e3)/10:q=100))}}catch(De){console.log(De),Ve.error(De)}}}}t(22,L=""),t(21,T=""),t(18,D=!1),t(25,J=null),vt.set(await n())},ee=async()=>{await fr(localStorage.token,$,k).catch(oe=>{Ve.error(oe)})&&Ve.success(`Deleted ${$}`),t(26,$=""),vt.set(await n())},Q=async te=>{const oe=await gl(localStorage.token,te.modelName,k).catch(ae=>(te.callback({success:!1,error:ae,modelName:te.modelName}),null));if(oe){const ae=oe.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;)try{const{value:_e,done:se}=await ae.read();if(se)break;let xe=_e.split(`
`);for(const Ze of xe)if(Ze!==""){let De=JSON.parse(Ze);if(De.error)throw De.error;if(De.detail)throw De.detail;if(De.status)if(De.digest){let Ne=0;De.completed?Ne=Math.round(De.completed/De.total*1e3)/10:Ne=100,t(17,A[te.modelName]={pullProgress:Ne,digest:De.digest},A)}else Ve.success(De.status)}}catch(_e){console.log(_e),typeof _e!="string"&&(_e=_e.message),te.callback({success:!1,error:_e,modelName:te.modelName})}te.callback({success:!0,modelName:te.modelName})}},W=async()=>{if(_.find(te=>te.model_name===v))Ve.error(`Model ${v} already exists.`);else{const te=await vn(localStorage.token,{name:v,model:p,api_base:g,api_key:b,rpm:w,max_tokens:x}).catch(oe=>(Ve.error(oe),null));te&&te.message&&Ve.success(te.message)}t(5,v=""),t(0,p=""),t(6,g=""),t(7,b=""),t(8,w=""),t(9,x=""),t(4,_=await Xt(localStorage.token)),vt.set(await n())},Y=async()=>{const te=await pn(localStorage.token,C).catch(oe=>(Ve.error(oe),null));te&&te.message&&Ve.success(te.message),t(10,C=""),t(4,_=await Xt(localStorage.token)),vt.set(await n())};dt(async()=>{t(11,V=await Ks(localStorage.token).catch(te=>(Ve.error(te),[]))),V.length>0&&t(12,k=0),t(16,j=await ol(localStorage.token).catch(te=>!1)),t(4,_=await Xt(localStorage.token))});function le(){k=gt(this),t(12,k)}const ue=()=>{G()};function fe(){M=this.value,t(19,M)}const me=()=>{X()},ie=te=>te.size!=null&&(k===null?!0:((te==null?void 0:te.urls)??[]).includes(k));function Ie(){$=gt(this),t(26,$),t(12,k)}const Be=()=>{ee()},be=()=>{t(15,S=!S)},Te=()=>{H==="file"?t(20,H="url"):t(20,H="file")};function Le(te){pt[te?"unshift":"push"](()=>{m=te,t(3,m)})}function He(){T=this.files,t(21,T)}const Ee=()=>{console.log(T)},ge=()=>{m.click()};function ne(){L=this.value,t(22,L)}function Ae(){F=this.value,t(23,F)}const he=()=>{P()},ce=()=>{t(1,c=!c)},ye=()=>{t(2,h=!h)};function pe(){p=this.value,t(0,p)}const we=()=>{W()};function Se(){v=this.value,t(5,v),t(0,p)}function Oe(){g=this.value,t(6,g)}function Me(){b=this.value,t(7,b)}function Xe(){w=this.value,t(8,w)}function Ge(){x=Ws(this.value),t(9,x)}function ve(){C=gt(this),t(10,C),t(4,_)}const de=()=>{Y()};return s.$$set=te=>{"getModels"in te&&t(34,n=te.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(5,v=p)},[p,c,h,m,_,v,g,b,w,x,C,V,k,O,B,S,j,A,D,M,H,T,L,F,Z,J,$,i,G,X,P,ee,W,Y,n,le,ue,fe,me,ie,Ie,Be,be,Te,Le,He,Ee,ge,ne,Ae,he,ce,ye,pe,we,Se,Oe,Me,Xe,Ge,ve,de]}class $n extends ot{constructor(e){super(),it(this,e,Qn,Yn,at,{getModels:34},null,[-1,-1,-1])}}function ea(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=Je(r,"path",{d:!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"d","M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4 self-center")},m(l,r){N(l,e,r),a(e,t)},d(l){l&&f(e)}}}function ta(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){N(l,e,r),a(e,t)},d(l){l&&f(e)}}}function la(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function sa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Xl(s){let e,t,l,r,i,n,c,h,m="Keep Alive",_,p,v,g,b,w,x,C="Request Mode",V,k,O,B,S;function j(L){s[18](L)}let R={};s[7]!==void 0&&(R.options=s[7]),e=new en({props:R}),pt.push(()=>Mt(e,"options",j));function A(L,F){return L[6]===null?na:ra}let D=A(s),M=D(s),z=s[6]!==null&&Ql(s);function q(L,F){if(L[5]==="")return oa;if(L[5]==="json")return aa}let H=q(s),T=H&&H(s);return{c(){Qe(e.$$.fragment),l=I(),r=u("hr"),i=I(),n=u("div"),c=u("div"),h=u("div"),h.textContent=m,_=I(),p=u("button"),M.c(),v=I(),z&&z.c(),g=I(),b=u("div"),w=u("div"),x=u("div"),x.textContent=C,V=I(),k=u("button"),T&&T.c(),this.h()},l(L){$e(e.$$.fragment,L),l=E(L),r=d(L,"HR",{class:!0}),i=E(L),n=d(L,"DIV",{class:!0});var F=y(n);c=d(F,"DIV",{class:!0});var Z=y(c);h=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-420e4z"&&(h.textContent=m),_=E(Z),p=d(Z,"BUTTON",{class:!0,type:!0});var J=y(p);M.l(J),J.forEach(f),Z.forEach(f),v=E(F),z&&z.l(F),F.forEach(f),g=E(L),b=d(L,"DIV",{});var $=y(b);w=d($,"DIV",{class:!0});var G=y(w);x=d(G,"DIV",{class:!0,"data-svelte-h":!0}),U(x)!=="svelte-v46k3y"&&(x.textContent=C),V=E(G),k=d(G,"BUTTON",{class:!0});var X=y(k);T&&T.l(X),X.forEach(f),G.forEach(f),$.forEach(f),this.h()},h(){o(r,"class","dark:border-gray-700"),o(h,"class","self-center text-xs font-medium"),o(p,"class","p-1 px-3 text-xs flex rounded transition"),o(p,"type","button"),o(c,"class","flex w-full justify-between"),o(n,"class","py-1 w-full justify-between"),o(x,"class","self-center text-sm font-medium"),o(k,"class","p-1 px-3 text-xs flex rounded transition"),o(w,"class","py-1 flex w-full justify-between")},m(L,F){et(e,L,F),N(L,l,F),N(L,r,F),N(L,i,F),N(L,n,F),a(n,c),a(c,h),a(c,_),a(c,p),M.m(p,null),a(n,v),z&&z.m(n,null),N(L,g,F),N(L,b,F),a(b,w),a(w,x),a(w,V),a(w,k),T&&T.m(k,null),O=!0,B||(S=[K(p,"click",s[19]),K(k,"click",s[21])],B=!0)},p(L,F){const Z={};!t&&F&128&&(t=!0,Z.options=L[7],Dt(()=>t=!1)),e.$set(Z),D!==(D=A(L))&&(M.d(1),M=D(L),M&&(M.c(),M.m(p,null))),L[6]!==null?z?z.p(L,F):(z=Ql(L),z.c(),z.m(n,null)):z&&(z.d(1),z=null),H!==(H=q(L))&&(T&&T.d(1),T=H&&H(L),T&&(T.c(),T.m(k,null)))},i(L){O||(je(e.$$.fragment,L),O=!0)},o(L){ze(e.$$.fragment,L),O=!1},d(L){L&&(f(l),f(r),f(i),f(n),f(g),f(b)),tt(e,L),M.d(),z&&z.d(),T&&T.d(),B=!1,qe(S)}}}function ra(s){let e,t="Custom";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-3v6m8g"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function na(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ql(s){let e,t,l,r;return{c(){e=u("div"),t=u("input"),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=y(e);t=d(n,"INPUT",{class:!0,type:!0,placeholder:!0}),n.forEach(f),this.h()},h(){o(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),o(t,"type","text"),o(t,"placeholder",'e.g.) "30s","10m". Valid time units are "s", "m", "h".'),o(e,"class","flex mt-1 space-x-2")},m(i,n){N(i,e,n),a(e,t),re(t,s[6]),l||(r=K(t,"input",s[20]),l=!0)},p(i,n){n&64&&t.value!==i[6]&&re(t,i[6])},d(i){i&&f(e),l=!1,r()}}}function aa(s){let e,t="JSON";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1ixofgt"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function oa(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ia(s){let e,t,l,r,i="WebUI Settings",n,c,h,m="Theme",_,p,v,g,b,w,x="Dark",C,V="Light",k,O="Rosé Pine",B,S="Rosé Pine Dawn",j,R,A,D,M="Notification",z,q,H,T,L,F,Z,J="System Prompt",$,G,X,P,ee,Q,W="Advanced Parameters",Y,le,ue=s[4]?"Hide":"Show",fe,me,ie,Ie,Be,be="Save",Te,Le,He;function Ee(pe,we){if(pe[1]==="dark")return ta;if(pe[1]==="light")return ea}let ge=Ee(s),ne=ge&&ge(s);function Ae(pe,we){return pe[2]===!0?sa:la}let he=Ae(s),ce=he(s),ye=s[4]&&Xl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),h.textContent=m,_=I(),p=u("div"),v=u("div"),ne&&ne.c(),g=I(),b=u("select"),w=u("option"),w.textContent=x,C=u("option"),C.textContent=V,k=u("option"),k.textContent=O,B=u("option"),B.textContent=S,j=I(),R=u("div"),A=u("div"),D=u("div"),D.textContent=M,z=I(),q=u("button"),ce.c(),H=I(),T=u("hr"),L=I(),F=u("div"),Z=u("div"),Z.textContent=J,$=I(),G=u("textarea"),X=I(),P=u("div"),ee=u("div"),Q=u("div"),Q.textContent=W,Y=I(),le=u("button"),fe=ke(ue),me=I(),ye&&ye.c(),ie=I(),Ie=u("div"),Be=u("button"),Be.textContent=be,this.h()},l(pe){e=d(pe,"DIV",{class:!0});var we=y(e);t=d(we,"DIV",{class:!0});var Se=y(t);l=d(Se,"DIV",{class:!0});var Oe=y(l);r=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-1x4ibzu"&&(r.textContent=i),n=E(Oe),c=d(Oe,"DIV",{class:!0});var Me=y(c);h=d(Me,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1vyl4qe"&&(h.textContent=m),_=E(Me),p=d(Me,"DIV",{class:!0});var Xe=y(p);v=d(Xe,"DIV",{class:!0});var Ge=y(v);ne&&ne.l(Ge),Ge.forEach(f),g=E(Xe),b=d(Xe,"SELECT",{class:!0,placeholder:!0});var ve=y(b);w=d(ve,"OPTION",{"data-svelte-h":!0}),U(w)!=="svelte-6c4gk6"&&(w.textContent=x),C=d(ve,"OPTION",{"data-svelte-h":!0}),U(C)!=="svelte-yop7ea"&&(C.textContent=V),k=d(ve,"OPTION",{"data-svelte-h":!0}),U(k)!=="svelte-az6w6j"&&(k.textContent=O),B=d(ve,"OPTION",{"data-svelte-h":!0}),U(B)!=="svelte-1f8eygo"&&(B.textContent=S),ve.forEach(f),Xe.forEach(f),Me.forEach(f),j=E(Oe),R=d(Oe,"DIV",{});var de=y(R);A=d(de,"DIV",{class:!0});var te=y(A);D=d(te,"DIV",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-1kkiof0"&&(D.textContent=M),z=E(te),q=d(te,"BUTTON",{class:!0,type:!0});var oe=y(q);ce.l(oe),oe.forEach(f),te.forEach(f),de.forEach(f),Oe.forEach(f),H=E(Se),T=d(Se,"HR",{class:!0}),L=E(Se),F=d(Se,"DIV",{});var ae=y(F);Z=d(ae,"DIV",{class:!0,"data-svelte-h":!0}),U(Z)!=="svelte-1bi1vel"&&(Z.textContent=J),$=E(ae),G=d(ae,"TEXTAREA",{class:!0,rows:!0}),y(G).forEach(f),ae.forEach(f),X=E(Se),P=d(Se,"DIV",{class:!0});var _e=y(P);ee=d(_e,"DIV",{class:!0});var se=y(ee);Q=d(se,"DIV",{class:!0,"data-svelte-h":!0}),U(Q)!=="svelte-x6p2ws"&&(Q.textContent=W),Y=E(se),le=d(se,"BUTTON",{class:!0,type:!0});var xe=y(le);fe=Ce(xe,ue),xe.forEach(f),se.forEach(f),me=E(_e),ye&&ye.l(_e),_e.forEach(f),Se.forEach(f),ie=E(we),Ie=d(we,"DIV",{class:!0});var Ze=y(Ie);Be=d(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),U(Be)!=="svelte-1ntakj3"&&(Be.textContent=be),Ze.forEach(f),we.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),o(v,"class","absolute right-16"),w.__value="dark",re(w,w.__value),C.__value="light",re(C,C.__value),k.__value="rose-pine dark",re(k,k.__value),B.__value="rose-pine-dawn light",re(B,B.__value),o(b,"class","w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&mt(()=>s[13].call(b)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(D,"class","self-center text-xs font-medium"),o(q,"class","p-1 px-3 text-xs flex rounded transition"),o(q,"type","button"),o(A,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(T,"class","dark:border-gray-700 my-3"),o(Z,"class","my-2.5 text-sm font-medium"),o(G,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(G,"rows","4"),o(Q,"class","font-medium"),o(le,"class","text-xs font-medium text-gray-500"),o(le,"type","button"),o(ee,"class","flex justify-between items-center text-sm"),o(P,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(Be,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Ie,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(pe,we){N(pe,e,we),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,_),a(c,p),a(p,v),ne&&ne.m(v,null),a(p,g),a(p,b),a(b,w),a(b,C),a(b,k),a(b,B),lt(b,s[1],!0),a(l,j),a(l,R),a(R,A),a(A,D),a(A,z),a(A,q),ce.m(q,null),a(t,H),a(t,T),a(t,L),a(t,F),a(F,Z),a(F,$),a(F,G),re(G,s[3]),a(t,X),a(t,P),a(P,ee),a(ee,Q),a(ee,Y),a(ee,le),a(le,fe),a(P,me),ye&&ye.m(P,null),a(e,ie),a(e,Ie),a(Ie,Be),Te=!0,Le||(He=[K(b,"change",s[13]),K(b,"change",s[14]),K(q,"click",s[15]),K(G,"input",s[16]),K(le,"click",s[17]),K(Be,"click",s[22])],Le=!0)},p(pe,[we]){ge!==(ge=Ee(pe))&&(ne&&ne.d(1),ne=ge&&ge(pe),ne&&(ne.c(),ne.m(v,null))),we&2&&lt(b,pe[1]),he!==(he=Ae(pe))&&(ce.d(1),ce=he(pe),ce&&(ce.c(),ce.m(q,null))),we&8&&re(G,pe[3]),(!Te||we&16)&&ue!==(ue=pe[4]?"Hide":"Show")&&Re(fe,ue),pe[4]?ye?(ye.p(pe,we),we&16&&je(ye,1)):(ye=Xl(pe),ye.c(),je(ye,1),ye.m(P,null)):ye&&(Nt(),ze(ye,1,1,()=>{ye=null}),Pt())},i(pe){Te||(je(ye),Te=!0)},o(pe){ze(ye),Te=!1},d(pe){pe&&f(e),ne&&ne.d(),ce.d(),ye&&ye.d(),Le=!1,qe(He)}}}function ca(s,e,t){const l=Bt();let{saveSettings:r}=e,{getModels:i}=e,n=["dark","light","rose-pine dark","rose-pine-dawn light"],c="dark",h=!1,m="You are a helpful assistant.",_=!1;const p=async()=>{await Notification.requestPermission()==="granted"?(t(2,h=!h),r({notificationEnabled:h})):Ve.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let v="",g=null,b={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const w=async()=>{v===""?t(5,v="json"):t(5,v=""),r({requestFormat:v!==""?v:void 0})};dt(async()=>{var M;let D=JSON.parse(localStorage.getItem("settings")??"{}");t(1,c=localStorage.theme??"dark"),t(2,h=D.notificationEnabled??!1),t(3,m=D.system??""),t(5,v=D.requestFormat??""),t(6,g=D.keepAlive??null),t(7,b.seed=D.seed??0,b),t(7,b.temperature=D.temperature??"",b),t(7,b.repeat_penalty=D.repeat_penalty??"",b),t(7,b.top_k=D.top_k??"",b),t(7,b.top_p=D.top_p??"",b),t(7,b.num_ctx=D.num_ctx??"",b),t(7,b={...b,...D.options}),t(7,b.stop=(((M=D==null?void 0:D.options)==null?void 0:M.stop)??[]).join(","),b)});function x(){c=gt(this),t(1,c)}const C=D=>{localStorage.theme=c,n.filter(M=>M!==c).forEach(M=>{M.split(" ").forEach(z=>{document.documentElement.classList.remove(z)})}),c.split(" ").forEach(M=>{document.documentElement.classList.add(M)}),console.log(c)},V=()=>{p()};function k(){m=this.value,t(3,m)}const O=()=>{t(4,_=!_)};function B(D){b=D,t(7,b)}const S=()=>{t(6,g=g===null?"5m":null)};function j(){g=this.value,t(6,g)}const R=()=>{w()},A=()=>{r({system:m!==""?m:void 0,options:{seed:(b.seed!==0?b.seed:void 0)??void 0,stop:b.stop!==""?b.stop.split(",").filter(D=>D):void 0,temperature:b.temperature!==""?b.temperature:void 0,repeat_penalty:b.repeat_penalty!==""?b.repeat_penalty:void 0,repeat_last_n:b.repeat_last_n!==""?b.repeat_last_n:void 0,mirostat:b.mirostat!==""?b.mirostat:void 0,mirostat_eta:b.mirostat_eta!==""?b.mirostat_eta:void 0,mirostat_tau:b.mirostat_tau!==""?b.mirostat_tau:void 0,top_k:b.top_k!==""?b.top_k:void 0,top_p:b.top_p!==""?b.top_p:void 0,tfs_z:b.tfs_z!==""?b.tfs_z:void 0,num_ctx:b.num_ctx!==""?b.num_ctx:void 0,num_predict:b.num_predict!==""?b.num_predict:void 0},keepAlive:g?isNaN(g)?g:parseInt(g):void 0}),l("save")};return s.$$set=D=>{"saveSettings"in D&&t(0,r=D.saveSettings),"getModels"in D&&t(12,i=D.getModels)},[r,c,h,m,_,v,g,b,l,n,p,w,i,x,C,V,k,O,B,S,j,R,A]}class ua extends ot{constructor(e){super(),it(this,e,ca,ia,at,{saveSettings:0,getModels:12})}}function $l(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function es(s,e,t){const l=s.slice();return l[32]=e[t],l}function da(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function fa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ha(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function va(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function pa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ma(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ga(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function _a(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ts(s){let e,t=s[32].name+" ("+(s[32].size/1073741824).toFixed(1)+" GB)",l,r,i;return{c(){e=u("option"),l=ke(t),r=I(),this.h()},l(n){e=d(n,"OPTION",{class:!0});var c=y(e);l=Ce(c,t),r=E(c),c.forEach(f),this.h()},h(){e.__value=i=s[32].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){N(n,e,c),a(e,l),a(e,r)},p(n,c){c[0]&256&&t!==(t=n[32].name+" ("+(n[32].size/1024**3).toFixed(1)+" GB)")&&Re(l,t),c[0]&256&&i!==(i=n[32].name)&&(e.__value=i,re(e,e.__value))},d(n){n&&f(e)}}}function ls(s){let e,t=s[32].size!=null&&ts(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),N(l,e,r)},p(l,r){l[32].size!=null?t?t.p(l,r):(t=ts(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&f(e),t&&t.d(l)}}}function ss(s){let e,t,l,r,i,n="Default Prompt Suggestions",c,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',_,p,v,g,b,w=Ue(s[5]),x=[];for(let V=0;V<w.length;V+=1)x[V]=rs($l(s,w,V));let C=s[5].length>0&&ns();return{c(){e=u("hr"),t=I(),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=I(),h=u("button"),h.innerHTML=m,_=I(),p=u("div");for(let V=0;V<x.length;V+=1)x[V].c();v=I(),C&&C.c(),this.h()},l(V){e=d(V,"HR",{class:!0}),t=E(V),l=d(V,"DIV",{class:!0});var k=y(l);r=d(k,"DIV",{class:!0});var O=y(r);i=d(O,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-15m99z4"&&(i.textContent=n),c=E(O),h=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(h)!=="svelte-192kpg7"&&(h.innerHTML=m),O.forEach(f),_=E(k),p=d(k,"DIV",{class:!0});var B=y(p);for(let S=0;S<x.length;S+=1)x[S].l(B);B.forEach(f),v=E(k),C&&C.l(k),k.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(i,"class","self-center text-sm font-semibold"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between mb-2"),o(p,"class","flex flex-col space-y-1"),o(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(V,k){N(V,e,k),N(V,t,k),N(V,l,k),a(l,r),a(r,i),a(r,c),a(r,h),a(l,_),a(l,p);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(p,null);a(l,v),C&&C.m(l,null),g||(b=K(h,"click",s[22]),g=!0)},p(V,k){if(k[0]&32){w=Ue(V[5]);let O;for(O=0;O<w.length;O+=1){const B=$l(V,w,O);x[O]?x[O].p(B,k):(x[O]=rs(B),x[O].c(),x[O].m(p,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=w.length}V[5].length>0?C||(C=ns(),C.c(),C.m(l,null)):C&&(C.d(1),C=null)},d(V){V&&(f(e),f(t),f(l)),rt(x,V),C&&C.d(),g=!1,b()}}}function rs(s){let e,t,l,r,i,n,c,h,m,_,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,g,b;function w(){s[23].call(r,s[30],s[31])}function x(){s[24].call(n,s[30],s[31])}function C(){s[25].call(h,s[30],s[31])}function V(){return s[26](s[31])}return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("input"),i=I(),n=u("input"),c=I(),h=u("input"),m=I(),_=u("button"),_.innerHTML=p,v=I(),this.h()},l(k){e=d(k,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var B=y(t);l=d(B,"DIV",{class:!0});var S=y(l);r=d(S,"INPUT",{class:!0,placeholder:!0}),i=E(S),n=d(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(f),c=E(B),h=d(B,"INPUT",{class:!0,placeholder:!0}),B.forEach(f),m=E(O),_=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(_)!=="svelte-1lkxdu6"&&(_.innerHTML=p),v=E(O),O.forEach(f),this.h()},h(){o(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder","Title (e.g. Tell me a fun fact)"),o(n,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(n,"placeholder","Subtitle (e.g. about the Roman Empire)"),o(l,"class","flex border-b dark:border-gray-600 w-full"),o(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(h,"placeholder","Prompt (e.g. Tell me a fun fact about the Roman Empire)"),o(t,"class","flex flex-col flex-1"),o(_,"class","px-2"),o(_,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(k,O){N(k,e,O),a(e,t),a(t,l),a(l,r),re(r,s[29].title[0]),a(l,i),a(l,n),re(n,s[29].title[1]),a(t,c),a(t,h),re(h,s[29].content),a(e,m),a(e,_),a(e,v),g||(b=[K(r,"input",w),K(n,"input",x),K(h,"input",C),K(_,"click",V)],g=!0)},p(k,O){s=k,O[0]&32&&r.value!==s[29].title[0]&&re(r,s[29].title[0]),O[0]&32&&n.value!==s[29].title[1]&&re(n,s[29].title[1]),O[0]&32&&h.value!==s[29].content&&re(h,s[29].content)},d(k){k&&f(e),g=!1,qe(b)}}}function ns(s){let e,t="Adjusting these settings will apply changes universally to all users.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-klrx3z"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ba(s){let e,t,l,r,i="WebUI Add-ons",n,c,h,m,_="Title Auto-Generation",p,v,g,b,w,x,C="Response AutoCopy to Clipboard",V,k,O,B,S,j,R="Full Screen Mode",A,D,M,z,q,H,T='Display the username instead of "You" in the Chat',L,F,Z,J,$,G,X,P="Set Title Auto-Generation Model",ee,Q,W,Y,le,ue="Current Model",fe,me,ie,Ie="Title Generation Prompt",Be,be,Te,Le,He,Ee='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',ge,ne;function Ae(ae,_e){return ae[0]===!0?fa:da}let he=Ae(s),ce=he(s);function ye(ae,_e){return ae[1]===!0?va:ha}let pe=ye(s),we=pe(s);function Se(ae,_e){return ae[3]===!0?ma:pa}let Oe=Se(s),Me=Oe(s);function Xe(ae,_e){return ae[6]===!0?_a:ga}let Ge=Xe(s),ve=Ge(s),de=Ue(s[8]),te=[];for(let ae=0;ae<de.length;ae+=1)te[ae]=ls(es(s,de,ae));let oe=s[7].role==="admin"&&ss(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),m=u("div"),m.textContent=_,p=I(),v=u("button"),ce.c(),g=I(),b=u("div"),w=u("div"),x=u("div"),x.textContent=C,V=I(),k=u("button"),we.c(),O=I(),B=u("div"),S=u("div"),j=u("div"),j.textContent=R,A=I(),D=u("button"),Me.c(),M=I(),z=u("div"),q=u("div"),H=u("div"),H.textContent=T,L=I(),F=u("button"),ve.c(),Z=I(),J=u("hr"),$=I(),G=u("div"),X=u("div"),X.textContent=P,ee=I(),Q=u("div"),W=u("div"),Y=u("select"),le=u("option"),le.textContent=ue;for(let ae=0;ae<te.length;ae+=1)te[ae].c();fe=I(),me=u("div"),ie=u("div"),ie.textContent=Ie,Be=I(),be=u("textarea"),Te=I(),oe&&oe.c(),Le=I(),He=u("div"),He.innerHTML=Ee,this.h()},l(ae){e=d(ae,"FORM",{class:!0});var _e=y(e);t=d(_e,"DIV",{class:!0});var se=y(t);l=d(se,"DIV",{});var xe=y(l);r=d(xe,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-1ei8vob"&&(r.textContent=i),n=E(xe),c=d(xe,"DIV",{});var Ze=y(c);h=d(Ze,"DIV",{class:!0});var De=y(h);m=d(De,"DIV",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-vxy2t7"&&(m.textContent=_),p=E(De),v=d(De,"BUTTON",{class:!0,type:!0});var Ne=y(v);ce.l(Ne),Ne.forEach(f),De.forEach(f),Ze.forEach(f),g=E(xe),b=d(xe,"DIV",{});var Ke=y(b);w=d(Ke,"DIV",{class:!0});var nt=y(w);x=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),U(x)!=="svelte-15p4et1"&&(x.textContent=C),V=E(nt),k=d(nt,"BUTTON",{class:!0,type:!0});var ft=y(k);we.l(ft),ft.forEach(f),nt.forEach(f),Ke.forEach(f),O=E(xe),B=d(xe,"DIV",{});var _t=y(B);S=d(_t,"DIV",{class:!0});var ut=y(S);j=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-eh80kt"&&(j.textContent=R),A=E(ut),D=d(ut,"BUTTON",{class:!0,type:!0});var ht=y(D);Me.l(ht),ht.forEach(f),ut.forEach(f),_t.forEach(f),M=E(xe),z=d(xe,"DIV",{});var Ct=y(z);q=d(Ct,"DIV",{class:!0});var jt=y(q);H=d(jt,"DIV",{class:!0,"data-svelte-h":!0}),U(H)!=="svelte-hq3tpb"&&(H.textContent=T),L=E(jt),F=d(jt,"BUTTON",{class:!0,type:!0});var hl=y(F);ve.l(hl),hl.forEach(f),jt.forEach(f),Ct.forEach(f),xe.forEach(f),Z=E(se),J=d(se,"HR",{class:!0}),$=E(se),G=d(se,"DIV",{});var Vt=y(G);X=d(Vt,"DIV",{class:!0,"data-svelte-h":!0}),U(X)!=="svelte-6mvwtw"&&(X.textContent=P),ee=E(Vt),Q=d(Vt,"DIV",{class:!0});var vl=y(Q);W=d(vl,"DIV",{class:!0});var pl=y(W);Y=d(pl,"SELECT",{class:!0,placeholder:!0});var Gt=y(Y);le=d(Gt,"OPTION",{"data-svelte-h":!0}),U(le)!=="svelte-14zk1i5"&&(le.textContent=ue);for(let Ft=0;Ft<te.length;Ft+=1)te[Ft].l(Gt);Gt.forEach(f),pl.forEach(f),vl.forEach(f),fe=E(Vt),me=d(Vt,"DIV",{class:!0});var Ut=y(me);ie=d(Ut,"DIV",{class:!0,"data-svelte-h":!0}),U(ie)!=="svelte-1lfupt"&&(ie.textContent=Ie),Be=E(Ut),be=d(Ut,"TEXTAREA",{class:!0,rows:!0}),y(be).forEach(f),Ut.forEach(f),Vt.forEach(f),Te=E(se),oe&&oe.l(se),se.forEach(f),Le=E(_e),He=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),U(He)!=="svelte-4r259g"&&(He.innerHTML=Ee),_e.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(m,"class","self-center text-xs font-medium"),o(v,"class","p-1 px-3 text-xs flex rounded transition"),o(v,"type","button"),o(h,"class","py-0.5 flex w-full justify-between"),o(x,"class","self-center text-xs font-medium"),o(k,"class","p-1 px-3 text-xs flex rounded transition"),o(k,"type","button"),o(w,"class","py-0.5 flex w-full justify-between"),o(j,"class","self-center text-xs font-medium"),o(D,"class","p-1 px-3 text-xs flex rounded transition"),o(D,"type","button"),o(S,"class","py-0.5 flex w-full justify-between"),o(H,"class","self-center text-xs font-medium"),o(F,"class","p-1 px-3 text-xs flex rounded transition"),o(F,"type","button"),o(q,"class","py-0.5 flex w-full justify-between"),o(J,"class","dark:border-gray-700"),o(X,"class","mb-2.5 text-sm font-medium"),le.__value="",re(le,le.__value),le.selected=!0,o(Y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Y,"placeholder","Select a model"),s[2]===void 0&&mt(()=>s[20].call(Y)),o(W,"class","flex-1 mr-2"),o(Q,"class","flex w-full"),o(ie,"class","mb-2.5 text-sm font-medium"),o(be,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(be,"rows","3"),o(me,"class","mt-3 mr-2"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-80"),o(He,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ae,_e){N(ae,e,_e),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(h,m),a(h,p),a(h,v),ce.m(v,null),a(l,g),a(l,b),a(b,w),a(w,x),a(w,V),a(w,k),we.m(k,null),a(l,O),a(l,B),a(B,S),a(S,j),a(S,A),a(S,D),Me.m(D,null),a(l,M),a(l,z),a(z,q),a(q,H),a(q,L),a(q,F),ve.m(F,null),a(t,Z),a(t,J),a(t,$),a(t,G),a(G,X),a(G,ee),a(G,Q),a(Q,W),a(W,Y),a(Y,le);for(let se=0;se<te.length;se+=1)te[se]&&te[se].m(Y,null);lt(Y,s[2],!0),a(G,fe),a(G,me),a(me,ie),a(me,Be),a(me,be),re(be,s[4]),a(t,Te),oe&&oe.m(t,null),a(e,Le),a(e,He),ge||(ne=[K(v,"click",s[16]),K(k,"click",s[17]),K(D,"click",s[18]),K(F,"click",s[19]),K(Y,"change",s[20]),K(be,"input",s[21]),K(e,"submit",At(s[27]))],ge=!0)},p(ae,_e){if(he!==(he=Ae(ae))&&(ce.d(1),ce=he(ae),ce&&(ce.c(),ce.m(v,null))),pe!==(pe=ye(ae))&&(we.d(1),we=pe(ae),we&&(we.c(),we.m(k,null))),Oe!==(Oe=Se(ae))&&(Me.d(1),Me=Oe(ae),Me&&(Me.c(),Me.m(D,null))),Ge!==(Ge=Xe(ae))&&(ve.d(1),ve=Ge(ae),ve&&(ve.c(),ve.m(F,null))),_e[0]&256){de=Ue(ae[8]);let se;for(se=0;se<de.length;se+=1){const xe=es(ae,de,se);te[se]?te[se].p(xe,_e):(te[se]=ls(xe),te[se].c(),te[se].m(Y,null))}for(;se<te.length;se+=1)te[se].d(1);te.length=de.length}_e[0]&260&&lt(Y,ae[2]),_e[0]&16&&re(be,ae[4]),ae[7].role==="admin"?oe?oe.p(ae,_e):(oe=ss(ae),oe.c(),oe.m(t,null)):oe&&(oe.d(1),oe=null)},i:Pe,o:Pe,d(ae){ae&&f(e),ce.d(),we.d(),Me.d(),ve.d(),rt(te,ae),oe&&oe.d(),ge=!1,qe(ne)}}}function wa(s,e,t){let l,r,i;Ye(s,Ot,L=>t(28,l=L)),Ye(s,wt,L=>t(7,r=L)),Ye(s,vt,L=>t(8,i=L));const n=Bt();let{saveSettings:c}=e,h=!0,m=!1,_="",p=!1,v="",g=[],b=!1;const w=async()=>{t(3,p=!p),c({fullScreenMode:p})},x=async()=>{t(6,b=!b),c({showUsername:b})},C=async()=>{t(0,h=!h),c({titleAutoGenerate:h})},V=async()=>{const L=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(L),L==="granted"?(t(1,m=!m),c({responseAutoCopy:m})):Ve.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},k=async()=>{r.role==="admin"&&(t(5,g=await Cr(localStorage.token,g)),await Ot.set(await er())),c({titleAutoGenerateModel:_!==""?_:void 0,titleGenerationPrompt:v||void 0})};dt(async()=>{r.role==="admin"&&t(5,g=l==null?void 0:l.default_prompt_suggestions);let L=JSON.parse(localStorage.getItem("settings")??"{}");t(0,h=L.titleAutoGenerate??!0),t(1,m=L.responseAutoCopy??!1),t(6,b=L.showUsername??!1),t(3,p=L.fullScreenMode??!1),t(2,_=L.titleAutoGenerateModel??""),t(4,v=L.titleGenerationPrompt??"Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title': {{prompt}}")});const O=()=>{C()},B=()=>{V()},S=()=>{w()},j=()=>{x()};function R(){_=gt(this),t(2,_)}function A(){v=this.value,t(4,v)}const D=()=>{(g.length===0||g.at(-1).content!=="")&&t(5,g=[...g,{content:"",title:["",""]}])};function M(L,F){L[F].title[0]=this.value,t(5,g)}function z(L,F){L[F].title[1]=this.value,t(5,g)}function q(L,F){L[F].content=this.value,t(5,g)}const H=L=>{g.splice(L,1),t(5,g)},T=()=>{k(),n("save")};return s.$$set=L=>{"saveSettings"in L&&t(15,c=L.saveSettings)},[h,m,_,p,v,g,b,r,i,n,w,x,C,V,k,c,O,B,S,j,R,A,D,M,z,q,H,T]}class ya extends ot{constructor(e){super(),it(this,e,wa,ba,at,{saveSettings:15},null,[-1,-1])}}function as(s,e,t){const l=s.slice();return l[26]=e[t],l}function os(s,e,t){const l=s.slice();return l[26]=e[t],l}function xa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ka(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ca(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ia(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ea(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ta(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Da(s){let e,t,l="Set Voice",r,i,n,c,h,m,_=Ue(s[6]),p=[];for(let v=0;v<_.length;v+=1)p[v]=is(as(s,_,v));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=I(),i=u("div"),n=u("div"),c=u("select");for(let v=0;v<p.length;v+=1)p[v].c();this.h()},l(v){e=d(v,"DIV",{});var g=y(e);t=d(g,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1saas11"&&(t.textContent=l),r=E(g),i=d(g,"DIV",{class:!0});var b=y(i);n=d(b,"DIV",{class:!0});var w=y(n);c=d(w,"SELECT",{class:!0,placeholder:!0});var x=y(c);for(let C=0;C<p.length;C+=1)p[C].l(x);x.forEach(f),w.forEach(f),b.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&mt(()=>s[22].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(v,g){N(v,e,g),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(c,null);lt(c,s[7],!0),h||(m=K(c,"change",s[22]),h=!0)},p(v,g){if(g&64){_=Ue(v[6]);let b;for(b=0;b<_.length;b+=1){const w=as(v,_,b);p[b]?p[b].p(w,g):(p[b]=is(w),p[b].c(),p[b].m(c,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=_.length}g&192&&lt(c,v[7])},d(v){v&&f(e),rt(p,v),h=!1,m()}}}function Ma(s){let e,t,l="Set Voice",r,i,n,c,h,m="Default",_,p,v=Ue(s[6].filter(us)),g=[];for(let b=0;b<v.length;b+=1)g[b]=cs(os(s,v,b));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=I(),i=u("div"),n=u("div"),c=u("select"),h=u("option"),h.textContent=m;for(let b=0;b<g.length;b+=1)g[b].c();this.h()},l(b){e=d(b,"DIV",{});var w=y(e);t=d(w,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1saas11"&&(t.textContent=l),r=E(w),i=d(w,"DIV",{class:!0});var x=y(i);n=d(x,"DIV",{class:!0});var C=y(n);c=d(C,"SELECT",{class:!0,placeholder:!0});var V=y(c);h=d(V,"OPTION",{"data-svelte-h":!0}),U(h)!=="svelte-19tv5vy"&&(h.textContent=m);for(let k=0;k<g.length;k+=1)g[k].l(V);V.forEach(f),C.forEach(f),x.forEach(f),w.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),h.__value="",re(h,h.__value),h.selected=!0,o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&mt(()=>s[21].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(b,w){N(b,e,w),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),a(c,h);for(let x=0;x<g.length;x+=1)g[x]&&g[x].m(c,null);lt(c,s[7],!0),_||(p=K(c,"change",s[21]),_=!0)},p(b,w){if(w&64){v=Ue(b[6].filter(us));let x;for(x=0;x<v.length;x+=1){const C=os(b,v,x);g[x]?g[x].p(C,w):(g[x]=cs(C),g[x].c(),g[x].m(c,null))}for(;x<g.length;x+=1)g[x].d(1);g.length=v.length}w&192&&lt(c,b[7])},d(b){b&&f(e),rt(g,b),_=!1,p()}}}function is(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=ke(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=y(e);l=Ce(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){N(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&Re(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function cs(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=ke(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=y(e);l=Ce(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){N(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&Re(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Va(s){let e,t,l,r,i="STT Settings",n,c,h,m="Speech-to-Text Engine",_,p,v,g,b="Default (Web API)",w,x="Open AI",C,V,k,O="Conversation Mode",B,S,j,R,A,D="Auto-send input after 3 sec.",M,z,q,H,T,L="TTS Settings",F,Z,J,$="Text-to-Speech Engine",G,X,P,ee,Q="Default (Web API)",W,Y="Open AI",le,ue,fe,me="Auto-playback response",ie,Ie,Be,be,Te,Le,He,Ee='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',ge,ne;function Ae(de,te){return de[2]===!0?ka:xa}let he=Ae(s),ce=he(s);function ye(de,te){return de[3]===!0?Ia:Ca}let pe=ye(s),we=pe(s);function Se(de,te){return de[4]===!0?Ta:Ea}let Oe=Se(s),Me=Oe(s);function Xe(de,te){if(de[5]==="")return Ma;if(de[5]==="openai")return Da}let Ge=Xe(s),ve=Ge&&Ge(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),h.textContent=m,_=I(),p=u("div"),v=u("select"),g=u("option"),g.textContent=b,w=u("option"),w.textContent=x,C=I(),V=u("div"),k=u("div"),k.textContent=O,B=I(),S=u("button"),ce.c(),j=I(),R=u("div"),A=u("div"),A.textContent=D,M=I(),z=u("button"),we.c(),q=I(),H=u("div"),T=u("div"),T.textContent=L,F=I(),Z=u("div"),J=u("div"),J.textContent=$,G=I(),X=u("div"),P=u("select"),ee=u("option"),ee.textContent=Q,W=u("option"),W.textContent=Y,le=I(),ue=u("div"),fe=u("div"),fe.textContent=me,ie=I(),Ie=u("button"),Me.c(),Be=I(),be=u("hr"),Te=I(),ve&&ve.c(),Le=I(),He=u("div"),He.innerHTML=Ee,this.h()},l(de){e=d(de,"FORM",{class:!0});var te=y(e);t=d(te,"DIV",{class:!0});var oe=y(t);l=d(oe,"DIV",{});var ae=y(l);r=d(ae,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-diomsv"&&(r.textContent=i),n=E(ae),c=d(ae,"DIV",{class:!0});var _e=y(c);h=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1grxly3"&&(h.textContent=m),_=E(_e),p=d(_e,"DIV",{class:!0});var se=y(p);v=d(se,"SELECT",{class:!0,placeholder:!0});var xe=y(v);g=d(xe,"OPTION",{"data-svelte-h":!0}),U(g)!=="svelte-58m1fs"&&(g.textContent=b),w=d(xe,"OPTION",{"data-svelte-h":!0}),U(w)!=="svelte-12xvqcc"&&(w.textContent=x),xe.forEach(f),se.forEach(f),_e.forEach(f),C=E(ae),V=d(ae,"DIV",{class:!0});var Ze=y(V);k=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-149a4jz"&&(k.textContent=O),B=E(Ze),S=d(Ze,"BUTTON",{class:!0,type:!0});var De=y(S);ce.l(De),De.forEach(f),Ze.forEach(f),j=E(ae),R=d(ae,"DIV",{class:!0});var Ne=y(R);A=d(Ne,"DIV",{class:!0,"data-svelte-h":!0}),U(A)!=="svelte-1s78n2z"&&(A.textContent=D),M=E(Ne),z=d(Ne,"BUTTON",{class:!0,type:!0});var Ke=y(z);we.l(Ke),Ke.forEach(f),Ne.forEach(f),ae.forEach(f),q=E(oe),H=d(oe,"DIV",{});var nt=y(H);T=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-1hgogbz"&&(T.textContent=L),F=E(nt),Z=d(nt,"DIV",{class:!0});var ft=y(Z);J=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),U(J)!=="svelte-1c62htf"&&(J.textContent=$),G=E(ft),X=d(ft,"DIV",{class:!0});var _t=y(X);P=d(_t,"SELECT",{class:!0,placeholder:!0});var ut=y(P);ee=d(ut,"OPTION",{"data-svelte-h":!0}),U(ee)!=="svelte-58m1fs"&&(ee.textContent=Q),W=d(ut,"OPTION",{"data-svelte-h":!0}),U(W)!=="svelte-12xvqcc"&&(W.textContent=Y),ut.forEach(f),_t.forEach(f),ft.forEach(f),le=E(nt),ue=d(nt,"DIV",{class:!0});var ht=y(ue);fe=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),U(fe)!=="svelte-lkaxwt"&&(fe.textContent=me),ie=E(ht),Ie=d(ht,"BUTTON",{class:!0,type:!0});var Ct=y(Ie);Me.l(Ct),Ct.forEach(f),ht.forEach(f),nt.forEach(f),Be=E(oe),be=d(oe,"HR",{class:!0}),Te=E(oe),ve&&ve.l(oe),oe.forEach(f),Le=E(te),He=d(te,"DIV",{class:!0,"data-svelte-h":!0}),U(He)!=="svelte-4r259g"&&(He.innerHTML=Ee),te.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),g.__value="",re(g,g.__value),w.__value="openai",re(w,w.__value),o(v,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(v,"placeholder","Select a mode"),s[1]===void 0&&mt(()=>s[14].call(v)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),o(S,"class","p-1 px-3 text-xs flex rounded transition"),o(S,"type","button"),o(V,"class","py-0.5 flex w-full justify-between"),o(A,"class","self-center text-xs font-medium"),o(z,"class","p-1 px-3 text-xs flex rounded transition"),o(z,"type","button"),o(R,"class","py-0.5 flex w-full justify-between"),o(T,"class","mb-1 text-sm font-medium"),o(J,"class","self-center text-xs font-medium"),ee.__value="",re(ee,ee.__value),W.__value="openai",re(W,W.__value),o(P,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(P,"placeholder","Select a mode"),s[5]===void 0&&mt(()=>s[18].call(P)),o(X,"class","flex items-center relative"),o(Z,"class","py-0.5 flex w-full justify-between"),o(fe,"class","self-center text-xs font-medium"),o(Ie,"class","p-1 px-3 text-xs flex rounded transition"),o(Ie,"type","button"),o(ue,"class","py-0.5 flex w-full justify-between"),o(be,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(He,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,te){N(de,e,te),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,_),a(c,p),a(p,v),a(v,g),a(v,w),lt(v,s[1],!0),a(l,C),a(l,V),a(V,k),a(V,B),a(V,S),ce.m(S,null),a(l,j),a(l,R),a(R,A),a(R,M),a(R,z),we.m(z,null),a(t,q),a(t,H),a(H,T),a(H,F),a(H,Z),a(Z,J),a(Z,G),a(Z,X),a(X,P),a(P,ee),a(P,W),lt(P,s[5],!0),a(H,le),a(H,ue),a(ue,fe),a(ue,ie),a(ue,Ie),Me.m(Ie,null),a(t,Be),a(t,be),a(t,Te),ve&&ve.m(t,null),a(e,Le),a(e,He),ge||(ne=[K(v,"change",s[14]),K(v,"change",s[15]),K(S,"click",s[16]),K(z,"click",s[17]),K(P,"change",s[18]),K(P,"change",s[19]),K(Ie,"click",s[20]),K(e,"submit",At(s[23]))],ge=!0)},p(de,[te]){te&2&&lt(v,de[1]),he!==(he=Ae(de))&&(ce.d(1),ce=he(de),ce&&(ce.c(),ce.m(S,null))),pe!==(pe=ye(de))&&(we.d(1),we=pe(de),we&&(we.c(),we.m(z,null))),te&32&&lt(P,de[5]),Oe!==(Oe=Se(de))&&(Me.d(1),Me=Oe(de),Me&&(Me.c(),Me.m(Ie,null))),Ge===(Ge=Xe(de))&&ve?ve.p(de,te):(ve&&ve.d(1),ve=Ge&&Ge(de),ve&&(ve.c(),ve.m(t,null)))},i:Pe,o:Pe,d(de){de&&f(e),ce.d(),we.d(),Me.d(),ve&&ve.d(),ge=!1,qe(ne)}}}const us=s=>s.localService===!0;function La(s,e,t){const l=Bt();let{saveSettings:r}=e,i="",n=!1,c=!1,h=!1,m="",_=[],p="";const v=()=>{t(6,_=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},g=()=>{const M=setInterval(async()=>{t(6,_=await speechSynthesis.getVoices()),_.length>0&&clearInterval(M)},100)},b=async()=>{t(2,n=!n),n&&(t(4,h=!0),t(3,c=!0)),r({conversationMode:n,responseAutoPlayback:h,speechAutoSend:c})},w=async()=>{t(4,h=!h),r({responseAutoPlayback:h})},x=async()=>{t(3,c=!c),r({speechAutoSend:c})};dt(async()=>{var z,q,H;let M=JSON.parse(localStorage.getItem("settings")??"{}");t(2,n=M.conversationMode??!1),t(3,c=M.speechAutoSend??!1),t(4,h=M.responseAutoPlayback??!1),t(1,i=((z=M==null?void 0:M.audio)==null?void 0:z.STTEngine)??""),t(5,m=((q=M==null?void 0:M.audio)==null?void 0:q.TTSEngine)??""),t(7,p=((H=M==null?void 0:M.audio)==null?void 0:H.speaker)??""),m==="openai"?v():g()});function C(){i=gt(this),t(1,i)}const V=M=>{M.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(z){Ve.error(`Permission denied when accessing microphone: ${z}`),t(1,i="")})},k=()=>{b()},O=()=>{x()};function B(){m=gt(this),t(5,m)}const S=M=>{M.target.value==="openai"?(v(),t(7,p="alloy")):(g(),t(7,p=""))},j=()=>{w()};function R(){p=gt(this),t(7,p),t(6,_)}function A(){p=gt(this),t(7,p),t(6,_)}const D=()=>{r({audio:{STTEngine:i!==""?i:void 0,TTSEngine:m!==""?m:void 0,speaker:p!==""?p:void 0}}),l("save")};return s.$$set=M=>{"saveSettings"in M&&t(0,r=M.saveSettings)},[r,i,n,c,h,m,_,p,l,v,g,b,w,x,C,V,k,O,B,S,j,R,A,D]}class Aa extends ot{constructor(e){super(),it(this,e,La,Va,at,{saveSettings:0})}}function Sa(s){let e,t,l,r,i,n="Off";return{c(){e=We("svg"),t=We("path"),l=We("path"),r=I(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=y(e);t=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=Je(h,"path",{d:!0}),y(l).forEach(f),h.forEach(f),r=E(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-1u2ztdm"&&(i.textContent=n),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){N(c,e,h),a(e,t),a(e,l),N(c,r,h),N(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function Oa(s){let e,t,l,r,i,n="On";return{c(){e=We("svg"),t=We("path"),l=We("path"),r=I(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=y(e);t=Je(h,"path",{d:!0}),y(t).forEach(f),l=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),h.forEach(f),r=E(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-1abjn3m"&&(i.textContent=n),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){N(c,e,h),a(e,t),a(e,l),N(c,r,h),N(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function Ha(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Delete Chats</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-ki3yy5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(i,n){N(i,e,n),l||(r=K(e,"click",s[17]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function Ba(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg> <span>Are you sure?</span>',r,i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',h,m,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,v;return{c(){e=u("div"),t=u("div"),t.innerHTML=l,r=I(),i=u("div"),n=u("button"),n.innerHTML=c,h=I(),m=u("button"),m.innerHTML=_,this.h()},l(g){e=d(g,"DIV",{class:!0});var b=y(e);t=d(b,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1l0gtox"&&(t.innerHTML=l),r=E(b),i=d(b,"DIV",{class:!0});var w=y(i);n=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1yl80nf"&&(n.innerHTML=c),h=E(w),m=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-7i2l1r"&&(m.innerHTML=_),w.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","flex items-center space-x-3"),o(n,"class","hover:text-white transition"),o(m,"class","hover:text-white transition"),o(i,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(g,b){N(g,e,b),a(e,t),a(e,r),a(e,i),a(i,n),a(i,h),a(i,m),p||(v=[K(n,"click",s[15]),K(m,"click",s[16])],p=!0)},p:Pe,d(g){g&&f(e),p=!1,qe(v)}}}function ds(s){let e,t,l,r='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export All Chats (All Users)</div>',i,n,c,h,m='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Reset Vector Storage</div>',_,p;return{c(){e=u("hr"),t=I(),l=u("button"),l.innerHTML=r,i=I(),n=u("hr"),c=I(),h=u("button"),h.innerHTML=m,this.h()},l(v){e=d(v,"HR",{class:!0}),t=E(v),l=d(v,"BUTTON",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1qd63nu"&&(l.innerHTML=r),i=E(v),n=d(v,"HR",{class:!0}),c=E(v),h=d(v,"BUTTON",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1v9vp97"&&(h.innerHTML=m),this.h()},h(){o(e,"class","dark:border-gray-700"),o(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(n,"class","dark:border-gray-700"),o(h,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(v,g){N(v,e,g),N(v,t,g),N(v,l,g),N(v,i,g),N(v,n,g),N(v,c,g),N(v,h,g),_||(p=[K(l,"click",s[18]),K(h,"click",s[19])],_=!0)},p:Pe,d(v){v&&(f(e),f(t),f(l),f(i),f(n),f(c),f(h)),_=!1,qe(p)}}}function Na(s){var $;let e,t,l,r,i,n="Chat History",c,h,m,_,p="This setting does not sync across browsers or devices.",v,g,b,w,x,C,V,k='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Import Chats</div>',O,B,S='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export Chats</div>',j,R,A,D,M,z;function q(G,X){return G[1]===!0?Oa:Sa}let H=q(s),T=H(s);function L(G,X){return G[2]?Ba:Ha}let F=L(s),Z=F(s),J=(($=s[4])==null?void 0:$.role)==="admin"&&ds(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=I(),h=u("button"),T.c(),m=I(),_=u("div"),_.textContent=p,v=I(),g=u("hr"),b=I(),w=u("div"),x=u("input"),C=I(),V=u("button"),V.innerHTML=k,O=I(),B=u("button"),B.innerHTML=S,j=I(),R=u("hr"),A=I(),Z.c(),D=I(),J&&J.c(),this.h()},l(G){e=d(G,"DIV",{class:!0});var X=y(e);t=d(X,"DIV",{class:!0});var P=y(t);l=d(P,"DIV",{class:!0});var ee=y(l);r=d(ee,"DIV",{class:!0});var Q=y(r);i=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-o25mcc"&&(i.textContent=n),c=E(Q),h=d(Q,"BUTTON",{class:!0,type:!0});var W=y(h);T.l(W),W.forEach(f),Q.forEach(f),m=E(ee),_=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-gmdy2e"&&(_.textContent=p),ee.forEach(f),v=E(P),g=d(P,"HR",{class:!0}),b=E(P),w=d(P,"DIV",{class:!0});var Y=y(w);x=d(Y,"INPUT",{id:!0,type:!0,accept:!0}),C=E(Y),V=d(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),U(V)!=="svelte-9mcypd"&&(V.innerHTML=k),O=E(Y),B=d(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-ki8nm3"&&(B.innerHTML=S),Y.forEach(f),j=E(P),R=d(P,"HR",{class:!0}),A=E(P),Z.l(P),D=E(P),J&&J.l(P),P.forEach(f),X.forEach(f),this.h()},h(){o(i,"class","self-center text-sm font-medium"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between"),o(_,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(g,"class","dark:border-gray-700"),o(x,"id","chat-import-input"),o(x,"type","file"),o(x,"accept",".json"),x.hidden=!0,o(V,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(B,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(w,"class","flex flex-col"),o(R,"class","dark:border-gray-700"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(G,X){N(G,e,X),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),T.m(h,null),a(l,m),a(l,_),a(t,v),a(t,g),a(t,b),a(t,w),a(w,x),s[11](x),a(w,C),a(w,V),a(w,O),a(w,B),a(t,j),a(t,R),a(t,A),Z.m(t,null),a(t,D),J&&J.m(t,null),M||(z=[K(h,"click",s[10]),K(x,"change",s[12]),K(V,"click",s[13]),K(B,"click",s[14])],M=!0)},p(G,[X]){var P;H!==(H=q(G))&&(T.d(1),T=H(G),T&&(T.c(),T.m(h,null))),F===(F=L(G))&&Z?Z.p(G,X):(Z.d(1),Z=F(G),Z&&(Z.c(),Z.m(t,D))),((P=G[4])==null?void 0:P.role)==="admin"?J?J.p(G,X):(J=ds(G),J.c(),J.m(t,null)):J&&(J.d(1),J=null)},i:Pe,o:Pe,d(G){G&&f(e),T.d(),s[11](null),Z.d(),J&&J.d(),M=!1,qe(z)}}}function Pa(s,e,t){let l;Ye(s,wt,A=>t(4,l=A));const{saveAs:r}=Js;let{saveSettings:i}=e,n=!0,c,h=!1,m;const _=async A=>{for(const D of A)console.log(D),D.chat?await wl(localStorage.token,D.chat):await wl(localStorage.token,D);await yt.set(await Et(localStorage.token))},p=async()=>{let A=new Blob([JSON.stringify(await Ir(localStorage.token))],{type:"application/json"});r(A,`chat-export-${Date.now()}.json`)},v=async()=>{let A=new Blob([JSON.stringify(await Er(localStorage.token))],{type:"application/json"});r(A,`all-chats-export-${Date.now()}.json`)},g=async()=>{await Tt("/"),await Tr(localStorage.token).catch(A=>{Ve.error(A)}),await yt.set(await Et(localStorage.token))},b=async()=>{t(1,n=!n),console.log(n),n===!1&&await Tt("/"),i({saveChatHistory:n})};dt(async()=>{let A=JSON.parse(localStorage.getItem("settings")??"{}");t(1,n=A.saveChatHistory??!0)});const w=()=>{b()};function x(A){pt[A?"unshift":"push"](()=>{m=A,t(3,m)})}function C(){c=this.files,t(0,c)}const V=()=>{m.click()},k=()=>{p()},O=()=>{g(),t(2,h=!1)},B=()=>{t(2,h=!1)},S=()=>{t(2,h=!0)},j=()=>{v()},R=()=>{tn(localStorage.token).catch(D=>(Ve.error(D),null))&&Ve.success("Success")};return s.$$set=A=>{"saveSettings"in A&&t(9,i=A.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&c){console.log(c);let A=new FileReader;A.onload=D=>{let M=JSON.parse(D.target.result);if(console.log(M),Gr(M)=="openai")try{M=Fr(M)}catch(z){console.log("Unable to import chats:",z)}_(M)},c.length>0&&A.readAsText(c[0])}},[c,n,h,m,l,p,v,g,b,i,w,x,C,V,k,O,B,S,j,R]}class ja extends ot{constructor(e){super(),it(this,e,Pa,Na,at,{saveSettings:9})}}function fs(s,e,t){const l=s.slice();return l[19]=e[t],l[20]=e,l[21]=t,l}function hs(s,e,t){const l=s.slice();return l[19]=e[t],l[22]=e,l[21]=t,l}function vs(s){let e,t=Ue(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=ps(hs(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=y(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(r,i){N(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&6){t=Ue(r[2]);let n;for(n=0;n<t.length;n+=1){const c=hs(r,t,n);l[n]?l[n].p(c,i):(l[n]=ps(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function Ua(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[12](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){N(n,e,c),l||(r=K(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function za(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){N(i,e,n),l||(r=K(e,"click",s[11]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function ps(s){let e,t,l,r,i,n,c,h,m,_,p,v,g,b=s[19]+"",w,x,C,V,k;function O(){s[9].call(l,s[22],s[21])}function B(){s[10].call(n,s[21])}function S(A,D){return A[21]===0?za:Ua}let R=S(s)(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=I(),i=u("div"),n=u("input"),c=I(),h=u("div"),R.c(),m=I(),_=u("div"),p=ke("WebUI will make requests to "),v=u("span"),g=ke("'"),w=ke(b),x=ke("/models'"),C=I(),this.h()},l(A){e=d(A,"DIV",{class:!0});var D=y(e);t=d(D,"DIV",{class:!0});var M=y(t);l=d(M,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),M.forEach(f),r=E(D),i=d(D,"DIV",{class:!0});var z=y(i);n=d(z,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),z.forEach(f),c=E(D),h=d(D,"DIV",{class:!0});var q=y(h);R.l(q),q.forEach(f),D.forEach(f),m=E(A),_=d(A,"DIV",{class:!0});var H=y(_);p=Ce(H,"WebUI will make requests to "),v=d(H,"SPAN",{class:!0});var T=y(v);g=Ce(T,"'"),w=Ce(T,b),x=Ce(T,"/models'"),T.forEach(f),C=E(H),H.forEach(f),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","API Base URL"),o(l,"autocomplete","off"),o(t,"class","flex-1"),o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder","API Key"),o(n,"autocomplete","off"),o(i,"class","flex-1"),o(h,"class","self-center flex items-center"),o(e,"class","flex w-full gap-2"),o(v,"class","text-gray-200"),o(_,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(A,D){N(A,e,D),a(e,t),a(t,l),re(l,s[19]),a(e,r),a(e,i),a(i,n),re(n,s[1][s[21]]),a(e,c),a(e,h),R.m(h,null),N(A,m,D),N(A,_,D),a(_,p),a(_,v),a(v,g),a(v,w),a(v,x),a(_,C),V||(k=[K(l,"input",O),K(n,"input",B)],V=!0)},p(A,D){s=A,D&4&&l.value!==s[19]&&re(l,s[19]),D&2&&n.value!==s[1][s[21]]&&re(n,s[1][s[21]]),R.p(s,D),D&4&&b!==(b=s[19]+"")&&Re(w,b)},d(A){A&&(f(e),f(m),f(_)),R.d(),V=!1,qe(k)}}}function Ra(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[15](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){N(n,e,c),l||(r=K(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function Za(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){N(i,e,n),l||(r=K(e,"click",s[14]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function ms(s){let e,t,l,r,i,n,c;function h(){s[13].call(t,s[20],s[21])}function m(v,g){return v[21]===0?Za:Ra}let p=m(s)(s);return{c(){e=u("div"),t=u("input"),l=I(),r=u("div"),p.c(),i=I(),this.h()},l(v){e=d(v,"DIV",{class:!0});var g=y(e);t=d(g,"INPUT",{class:!0,placeholder:!0}),l=E(g),r=d(g,"DIV",{class:!0});var b=y(r);p.l(b),b.forEach(f),i=E(g),g.forEach(f),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder","Enter URL (e.g. http://localhost:11434)"),o(r,"class","self-center flex items-center"),o(e,"class","flex gap-1.5")},m(v,g){N(v,e,g),a(e,t),re(t,s[19]),a(e,l),a(e,r),p.m(r,null),a(e,i),n||(c=K(t,"input",h),n=!0)},p(v,g){s=v,g&1&&t.value!==s[19]&&re(t,s[19]),p.p(s,g)},d(v){v&&f(e),p.d(),n=!1,c()}}}function qa(s){let e,t,l,r,i,n,c="OpenAI API",h,m,_=s[3]?"Hide":"Show",p,v,g,b,w,x,C,V="Ollama Base URL",k,O,B,S,j,R,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',D,M,z=`Trouble accessing ChatPilot?
				<a class="text-gray-300 font-medium" href="https://github.com/shibing624/ChatPilot/issues" target="_blank">Click here for help.</a>`,q,H,T='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',L,F,Z=s[3]&&vs(s),J=Ue(s[0]),$=[];for(let G=0;G<J.length;G+=1)$[G]=ms(fs(s,J,G));return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=u("div"),n.textContent=c,h=I(),m=u("button"),p=ke(_),v=I(),Z&&Z.c(),g=I(),b=u("hr"),w=I(),x=u("div"),C=u("div"),C.textContent=V,k=I(),O=u("div"),B=u("div");for(let G=0;G<$.length;G+=1)$[G].c();S=I(),j=u("div"),R=u("button"),R.innerHTML=A,D=I(),M=u("div"),M.innerHTML=z,q=I(),H=u("div"),H.innerHTML=T,this.h()},l(G){e=d(G,"FORM",{class:!0});var X=y(e);t=d(X,"DIV",{class:!0});var P=y(t);l=d(P,"DIV",{class:!0});var ee=y(l);r=d(ee,"DIV",{class:!0});var Q=y(r);i=d(Q,"DIV",{class:!0});var W=y(i);n=d(W,"DIV",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1uilz16"&&(n.textContent=c),h=E(W),m=d(W,"BUTTON",{class:!0,type:!0});var Y=y(m);p=Ce(Y,_),Y.forEach(f),W.forEach(f),v=E(Q),Z&&Z.l(Q),Q.forEach(f),ee.forEach(f),g=E(P),b=d(P,"HR",{class:!0}),w=E(P),x=d(P,"DIV",{});var le=y(x);C=d(le,"DIV",{class:!0,"data-svelte-h":!0}),U(C)!=="svelte-1qw0ud1"&&(C.textContent=V),k=E(le),O=d(le,"DIV",{class:!0});var ue=y(O);B=d(ue,"DIV",{class:!0});var fe=y(B);for(let ie=0;ie<$.length;ie+=1)$[ie].l(fe);fe.forEach(f),S=E(ue),j=d(ue,"DIV",{class:!0});var me=y(j);R=d(me,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(R)!=="svelte-1rngu5f"&&(R.innerHTML=A),me.forEach(f),ue.forEach(f),D=E(le),M=d(le,"DIV",{class:!0,"data-svelte-h":!0}),U(M)!=="svelte-1jab03"&&(M.innerHTML=z),le.forEach(f),P.forEach(f),q=E(X),H=d(X,"DIV",{class:!0,"data-svelte-h":!0}),U(H)!=="svelte-56vqyw"&&(H.innerHTML=T),X.forEach(f),this.h()},h(){o(n,"class","font-medium"),o(m,"class","text-xs font-medium text-gray-500"),o(m,"type","button"),o(i,"class","flex justify-between items-center text-sm"),o(r,"class","mt-2 space-y-2 pr-1.5"),o(l,"class","space-y-3"),o(b,"class","dark:border-gray-700"),o(C,"class","mb-2.5 text-sm font-medium"),o(B,"class","flex-1 flex flex-col gap-2"),o(R,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),o(R,"type","button"),o(j,"class",""),o(O,"class","flex w-full gap-1.5"),o(M,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem] space-y-3"),o(H,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(G,X){N(G,e,X),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,h),a(i,m),a(m,p),a(r,v),Z&&Z.m(r,null),a(t,g),a(t,b),a(t,w),a(t,x),a(x,C),a(x,k),a(x,O),a(O,B);for(let P=0;P<$.length;P+=1)$[P]&&$[P].m(B,null);a(O,S),a(O,j),a(j,R),a(x,D),a(x,M),a(e,q),a(e,H),L||(F=[K(m,"click",s[8]),K(R,"click",s[16]),K(e,"submit",At(s[17]))],L=!0)},p(G,[X]){if(X&8&&_!==(_=G[3]?"Hide":"Show")&&Re(p,_),G[3]?Z?Z.p(G,X):(Z=vs(G),Z.c(),Z.m(r,null)):Z&&(Z.d(1),Z=null),X&1){J=Ue(G[0]);let P;for(P=0;P<J.length;P+=1){const ee=fs(G,J,P);$[P]?$[P].p(ee,X):($[P]=ms(ee),$[P].c(),$[P].m(B,null))}for(;P<$.length;P+=1)$[P].d(1);$.length=J.length}},i:Pe,o:Pe,d(G){G&&f(e),Z&&Z.d(),rt($,G),L=!1,qe(F)}}}function Ga(s,e,t){let l;Ye(s,wt,S=>t(18,l=S));const r=Bt();let{getModels:i}=e,n=[""],c=[""],h=[""],m=!1;const _=async()=>{t(2,h=await _r(localStorage.token,h)),t(1,c=await br(localStorage.token,c)),await vt.set(await i())},p=async()=>{t(0,n=await hr(localStorage.token,n)),await ol(localStorage.token).catch(j=>(Ve.error(j),null))&&(Ve.success("Server connection verified"),await vt.set(await i()))};dt(async()=>{l.role==="admin"&&(t(0,n=await Ks(localStorage.token)),t(2,h=await mr(localStorage.token)),t(1,c=await gr(localStorage.token)))});const v=()=>{t(3,m=!m)};function g(S,j){S[j]=this.value,t(2,h)}function b(S){c[S]=this.value,t(1,c)}const w=()=>{t(2,h=[...h,""]),t(1,c=[...c,""])},x=S=>{t(2,h=h.filter((j,R)=>S!==R)),t(1,c=c.filter((j,R)=>S!==R))};function C(S,j){S[j]=this.value,t(0,n)}const V=()=>{t(0,n=[...n,""])},k=S=>{t(0,n=n.filter((j,R)=>S!==R))},O=()=>{p()},B=()=>{_(),r("save")};return s.$$set=S=>{"getModels"in S&&t(7,i=S.getModels)},[n,c,h,m,r,_,p,i,v,g,b,w,x,C,V,k,O,B]}class Fa extends ot{constructor(e){super(),it(this,e,Ga,qa,at,{getModels:7})}}function gs(s,e,t){const l=s.slice();return l[24]=e[t],l}function Wa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ja(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Ka(s){let e,t="Using default OpenAI API Key";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1uycpxf"&&(e.textContent=t),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium")},m(l,r){N(l,e,r)},p:Pe,d(l){l&&f(e)}}}function Ya(s){let e,t="AUTOMATIC1111 Base URL",l,r,i,n,c,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',_,p,v='Include `--api` flag when running stable-diffusion-webui\n				<a class="text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank">(e.g. `sh webui.sh --api`)</a>',g,b;return{c(){e=u("div"),e.textContent=t,l=I(),r=u("div"),i=u("div"),n=u("input"),c=I(),h=u("button"),h.innerHTML=m,_=I(),p=u("div"),p.innerHTML=v,this.h()},l(w){e=d(w,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-5jr2ye"&&(e.textContent=t),l=E(w),r=d(w,"DIV",{class:!0});var x=y(r);i=d(x,"DIV",{class:!0});var C=y(i);n=d(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(f),c=E(x),h=d(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(h)!=="svelte-1pszdtm"&&(h.innerHTML=m),x.forEach(f),_=E(w),p=d(w,"DIV",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-1766k05"&&(p.innerHTML=v),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder","Enter URL (e.g. http://127.0.0.1:7860/)"),o(i,"class","flex-1 mr-2"),o(h,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 rounded-lg transition"),o(h,"type","button"),o(r,"class","flex w-full"),o(p,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(w,x){N(w,e,x),N(w,l,x),N(w,r,x),a(r,i),a(i,n),re(n,s[3]),a(r,c),a(r,h),N(w,_,x),N(w,p,x),g||(b=[K(n,"input",s[16]),K(h,"click",s[17])],g=!0)},p(w,x){x&8&&n.value!==w[3]&&re(n,w[3])},d(w){w&&(f(e),f(l),f(r),f(_),f(p)),g=!1,qe(b)}}}function _s(s){let e,t,l,r,i="Set Default Model",n,c,h,m,_,p,v,g,b="Set Image Size",w,x,C,V,k,O,B,S="Set Steps",j,R,A,D,M,z,q=!s[5]&&bs(),H=Ue(s[6]??[]),T=[];for(let L=0;L<H.length;L+=1)T[L]=ws(gs(s,H,L));return{c(){e=u("hr"),t=I(),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),m=u("select"),q&&q.c(),_=st();for(let L=0;L<T.length;L+=1)T[L].c();p=I(),v=u("div"),g=u("div"),g.textContent=b,w=I(),x=u("div"),C=u("div"),V=u("input"),k=I(),O=u("div"),B=u("div"),B.textContent=S,j=I(),R=u("div"),A=u("div"),D=u("input"),this.h()},l(L){e=d(L,"HR",{class:!0}),t=E(L),l=d(L,"DIV",{});var F=y(l);r=d(F,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-1an7ol3"&&(r.textContent=i),n=E(F),c=d(F,"DIV",{class:!0});var Z=y(c);h=d(Z,"DIV",{class:!0});var J=y(h);m=d(J,"SELECT",{class:!0,placeholder:!0});var $=y(m);q&&q.l($),_=st();for(let Y=0;Y<T.length;Y+=1)T[Y].l($);$.forEach(f),J.forEach(f),Z.forEach(f),F.forEach(f),p=E(L),v=d(L,"DIV",{});var G=y(v);g=d(G,"DIV",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-1cj1un7"&&(g.textContent=b),w=E(G),x=d(G,"DIV",{class:!0});var X=y(x);C=d(X,"DIV",{class:!0});var P=y(C);V=d(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(f),X.forEach(f),G.forEach(f),k=E(L),O=d(L,"DIV",{});var ee=y(O);B=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-8mnd18"&&(B.textContent=S),j=E(ee),R=d(ee,"DIV",{class:!0});var Q=y(R);A=d(Q,"DIV",{class:!0});var W=y(A);D=d(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(f),Q.forEach(f),ee.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(m,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(m,"placeholder","Select a model"),s[5]===void 0&&mt(()=>s[18].call(m)),o(h,"class","flex-1 mr-2"),o(c,"class","flex w-full"),o(g,"class","mb-2.5 text-sm font-medium"),o(V,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(V,"placeholder","Enter Image Size (e.g. 512x512)"),o(C,"class","flex-1 mr-2"),o(x,"class","flex w-full"),o(B,"class","mb-2.5 text-sm font-medium"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder","Enter Number of Steps (e.g. 50)"),o(A,"class","flex-1 mr-2"),o(R,"class","flex w-full")},m(L,F){N(L,e,F),N(L,t,F),N(L,l,F),a(l,r),a(l,n),a(l,c),a(c,h),a(h,m),q&&q.m(m,null),a(m,_);for(let Z=0;Z<T.length;Z+=1)T[Z]&&T[Z].m(m,null);lt(m,s[5],!0),N(L,p,F),N(L,v,F),a(v,g),a(v,w),a(v,x),a(x,C),a(C,V),re(V,s[7]),N(L,k,F),N(L,O,F),a(O,B),a(O,j),a(O,R),a(R,A),a(A,D),re(D,s[8]),M||(z=[K(m,"change",s[18]),K(V,"input",s[19]),K(D,"input",s[20])],M=!0)},p(L,F){if(L[5]?q&&(q.d(1),q=null):q||(q=bs(),q.c(),q.m(m,_)),F&64){H=Ue(L[6]??[]);let Z;for(Z=0;Z<H.length;Z+=1){const J=gs(L,H,Z);T[Z]?T[Z].p(J,F):(T[Z]=ws(J),T[Z].c(),T[Z].m(m,null))}for(;Z<T.length;Z+=1)T[Z].d(1);T.length=H.length}F&96&&lt(m,L[5]),F&128&&V.value!==L[7]&&re(V,L[7]),F&256&&D.value!==L[8]&&re(D,L[8])},d(L){L&&(f(e),f(t),f(l),f(p),f(v),f(k),f(O)),q&&q.d(),rt(T,L),M=!1,qe(z)}}}function bs(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),U(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function ws(s){let e,t=s[24].name+"",l,r;return{c(){e=u("option"),l=ke(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=y(e);l=Ce(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[24].id,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){N(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[24].name+"")&&Re(l,t),n&64&&r!==(r=i[24].id)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function ys(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){N(l,e,r)},d(l){l&&f(e)}}}function Xa(s){let e,t,l,r,i="Image Settings",n,c,h,m="Image Generation Engine",_,p,v,g,b="Default (Automatic1111)",w,x="Open AI (Dall-E)",C,V,k,O,B="Image Generation (Experimental)",S,j,R,A,D,M,z,q,H,T,L,F,Z;function J(Y,le){return Y[2]===!0?Ja:Wa}let $=J(s),G=$(s);function X(Y,le){if(Y[1]==="")return Ya;if(Y[1]==="openai")return Ka}let P=X(s),ee=P&&P(s),Q=s[2]&&_s(s),W=s[0]&&ys();return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=I(),c=u("div"),h=u("div"),h.textContent=m,_=I(),p=u("div"),v=u("select"),g=u("option"),g.textContent=b,w=u("option"),w.textContent=x,C=I(),V=u("div"),k=u("div"),O=u("div"),O.textContent=B,S=I(),j=u("button"),G.c(),R=I(),A=u("hr"),D=I(),ee&&ee.c(),M=I(),Q&&Q.c(),z=I(),q=u("div"),H=u("button"),T=ke(`Save

			`),W&&W.c(),this.h()},l(Y){e=d(Y,"FORM",{class:!0});var le=y(e);t=d(le,"DIV",{class:!0});var ue=y(t);l=d(ue,"DIV",{});var fe=y(l);r=d(fe,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-clutkv"&&(r.textContent=i),n=E(fe),c=d(fe,"DIV",{class:!0});var me=y(c);h=d(me,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1jfmw1m"&&(h.textContent=m),_=E(me),p=d(me,"DIV",{class:!0});var ie=y(p);v=d(ie,"SELECT",{class:!0,placeholder:!0});var Ie=y(v);g=d(Ie,"OPTION",{"data-svelte-h":!0}),U(g)!=="svelte-t05krf"&&(g.textContent=b),w=d(Ie,"OPTION",{"data-svelte-h":!0}),U(w)!=="svelte-122p2km"&&(w.textContent=x),Ie.forEach(f),ie.forEach(f),me.forEach(f),C=E(fe),V=d(fe,"DIV",{});var Be=y(V);k=d(Be,"DIV",{class:!0});var be=y(k);O=d(be,"DIV",{class:!0,"data-svelte-h":!0}),U(O)!=="svelte-1hszkoj"&&(O.textContent=B),S=E(be),j=d(be,"BUTTON",{class:!0,type:!0});var Te=y(j);G.l(Te),Te.forEach(f),be.forEach(f),Be.forEach(f),fe.forEach(f),R=E(ue),A=d(ue,"HR",{class:!0}),D=E(ue),ee&&ee.l(ue),M=E(ue),Q&&Q.l(ue),ue.forEach(f),z=E(le),q=d(le,"DIV",{class:!0});var Le=y(q);H=d(Le,"BUTTON",{class:!0,type:!0});var He=y(H);T=Ce(He,`Save

			`),W&&W.l(He),He.forEach(f),Le.forEach(f),le.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),g.__value="",re(g,g.__value),w.__value="openai",re(w,w.__value),o(v,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(v,"placeholder","Select a mode"),s[1]===void 0&&mt(()=>s[13].call(v)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(O,"class","self-center text-xs font-medium"),o(j,"class","p-1 px-3 text-xs flex rounded transition"),o(j,"type","button"),o(k,"class","py-0.5 flex w-full justify-between"),o(A,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(H,"class",L="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(H,"type","submit"),H.disabled=s[0],o(q,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Y,le){N(Y,e,le),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,_),a(c,p),a(p,v),a(v,g),a(v,w),lt(v,s[1],!0),a(l,C),a(l,V),a(V,k),a(k,O),a(k,S),a(k,j),G.m(j,null),a(t,R),a(t,A),a(t,D),ee&&ee.m(t,null),a(t,M),Q&&Q.m(t,null),a(e,z),a(e,q),a(q,H),a(H,T),W&&W.m(H,null),F||(Z=[K(v,"change",s[13]),K(v,"change",s[14]),K(j,"click",s[15]),K(e,"submit",At(s[21]))],F=!0)},p(Y,[le]){le&2&&lt(v,Y[1]),$!==($=J(Y))&&(G.d(1),G=$(Y),G&&(G.c(),G.m(j,null))),P===(P=X(Y))&&ee?ee.p(Y,le):(ee&&ee.d(1),ee=P&&P(Y),ee&&(ee.c(),ee.m(t,M))),Y[2]?Q?Q.p(Y,le):(Q=_s(Y),Q.c(),Q.m(t,null)):Q&&(Q.d(1),Q=null),Y[0]?W||(W=ys(),W.c(),W.m(H,null)):W&&(W.d(1),W=null),le&1&&L!==(L="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(Y[0]?" cursor-not-allowed":""))&&o(H,"class",L),le&1&&(H.disabled=Y[0])},i:Pe,o:Pe,d(Y){Y&&f(e),G.d(),ee&&ee.d(),Q&&Q.d(),W&&W.d(),F=!1,qe(Z)}}}function Qa(s,e,t){let l;Ye(s,wt,M=>t(22,l=M));const r=Bt();let{saveSettings:i}=e,n=!1,c="",h=!1,m="",_="",p="",v=null,g="",b=50;const w=async()=>{t(6,v=await Ar(localStorage.token).catch(M=>(Ve.error(M),null))),t(5,p=await Sr(localStorage.token).catch(M=>""))},x=async()=>{const M=await Or(localStorage.token,m).catch(z=>(Ve.error(z),null));M?(t(3,m=M),await w(),v&&Ve.success("Server connection verified")):t(3,m=await yl(localStorage.token))},C=async()=>{const M=await Hr(localStorage.token,c,h).catch(z=>(Ve.error(z),null));M&&(t(1,c=M.engine),t(2,h=M.enabled)),h&&(Ot.set(await er()),w())};dt(async()=>{if(l.role==="admin"){const M=await Dr(localStorage.token).catch(z=>(Ve.error(z),null));M&&(t(1,c=M.engine),t(2,h=M.enabled)),t(3,m=await yl(localStorage.token)),t(4,_=await Mr(localStorage.token)),t(7,g=await Vr(localStorage.token)),t(8,b=await Lr(localStorage.token)),h&&w()}});function V(){c=gt(this),t(1,c)}const k=async()=>{await C()},O=()=>{c===""&&m===""?(Ve.error("AUTOMATIC1111 Base URL is required."),t(2,h=!1)):t(2,h=!h),C()};function B(){m=this.value,t(3,m)}const S=()=>{x()};function j(){p=gt(this),t(5,p),t(6,v)}function R(){g=this.value,t(7,g)}function A(){b=this.value,t(8,b)}const D=async()=>{t(0,n=!0),await Br(localStorage.token,_),await xl(localStorage.token,p),await xl(localStorage.token,p),await Nr(localStorage.token,g).catch(M=>(Ve.error(M),null)),await Pr(localStorage.token,b).catch(M=>(Ve.error(M),null)),r("save"),t(0,n=!1)};return s.$$set=M=>{"saveSettings"in M&&t(12,i=M.saveSettings)},[n,c,h,m,_,p,v,g,b,r,x,C,i,V,k,O,B,S,j,R,A,D]}class $a extends ot{constructor(e){super(),it(this,e,Qa,Xa,at,{saveSettings:12})}}function xs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,i,n="Connections",c,h,m,_,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',v,g,b="Models",w,x,C;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=I(),i=u("div"),i.textContent=n,h=I(),m=u("button"),_=u("div"),_.innerHTML=p,v=I(),g=u("div"),g.textContent=b,this.h()},l(V){e=d(V,"BUTTON",{class:!0});var k=y(e);t=d(k,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=E(k),i=d(k,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-yucnvi"&&(i.textContent=n),k.forEach(f),h=E(V),m=d(V,"BUTTON",{class:!0});var O=y(m);_=d(O,"DIV",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-1s8wpdu"&&(_.innerHTML=p),v=E(O),g=d(O,"DIV",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-1q0mgp9"&&(g.textContent=b),O.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(_,"class","self-center mr-2"),o(g,"class","self-center"),o(m,"class",w="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(V,k){N(V,e,k),a(e,t),a(e,r),a(e,i),N(V,h,k),N(V,m,k),a(m,_),a(m,v),a(m,g),x||(C=[K(e,"click",s[7]),K(m,"click",s[8])],x=!0)},p(V,k){k&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(V[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c),k&2&&w!==(w="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(V[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(m,"class",w)},d(V){V&&(f(e),f(h),f(m)),x=!1,qe(C)}}}function ks(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,i,n="Images",c,h,m;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=I(),i=u("div"),i.textContent=n,this.h()},l(_){e=d(_,"BUTTON",{class:!0});var p=y(e);t=d(p,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=E(p),i=d(p,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-ticdod"&&(i.textContent=n),p.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(_,p){N(_,e,p),a(e,t),a(e,r),a(e,i),h||(m=K(e,"click",s[11]),h=!0)},p(_,p){p&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(_[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c)},d(_){_&&f(e),h=!1,m()}}}function eo(s){let e,t;return e=new Dn({}),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function to(s){let e,t;return e=new In({props:{saveHandler:s[20]}}),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function lo(s){let e,t;return e=new ja({props:{saveSettings:s[3]}}),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function so(s){let e,t;return e=new $a({props:{saveSettings:s[3]}}),e.$on("save",s[19]),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function ro(s){let e,t;return e=new Aa({props:{saveSettings:s[3]}}),e.$on("save",s[18]),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function no(s){let e,t;return e=new ya({props:{saveSettings:s[3]}}),e.$on("save",s[17]),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function ao(s){let e,t;return e=new Fa({props:{getModels:s[4]}}),e.$on("save",s[16]),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function oo(s){let e,t;return e=new $n({props:{getModels:s[4]}}),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function io(s){let e,t;return e=new ua({props:{getModels:s[4],saveSettings:s[3]}}),e.$on("save",s[15]),{c(){Qe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(je(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function co(s){var _e;let e,t,l,r="Settings",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,m,_,p,v,g,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',x,C,V="General",k,O,B,S,j,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',A,D,M="Interface",z,q,H,T,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',F,Z,J="Audio",$,G,X,P,ee,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',W,Y,le="Chats",ue,fe,me,ie,Ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Be,be,Te="Account",Le,He,Ee,ge,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ae,he,ce="About",ye,pe,we,Se,Oe,Me,Xe,Ge,ve=((_e=s[2])==null?void 0:_e.role)==="admin"&&xs(s),de=s[2].role==="admin"&&ks(s);const te=[io,oo,ao,no,ro,so,lo,to,eo],oe=[];function ae(se,xe){return se[1]==="general"?0:se[1]==="models"?1:se[1]==="connections"?2:se[1]==="interface"?3:se[1]==="audio"?4:se[1]==="images"?5:se[1]==="chats"?6:se[1]==="account"?7:se[1]==="about"?8:-1}return~(Se=ae(s))&&(Oe=oe[Se]=te[Se](s)),{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("button"),n.innerHTML=c,h=I(),m=u("hr"),_=I(),p=u("div"),v=u("div"),g=u("button"),b=u("div"),b.innerHTML=w,x=I(),C=u("div"),C.textContent=V,O=I(),ve&&ve.c(),B=I(),S=u("button"),j=u("div"),j.innerHTML=R,A=I(),D=u("div"),D.textContent=M,q=I(),H=u("button"),T=u("div"),T.innerHTML=L,F=I(),Z=u("div"),Z.textContent=J,G=I(),de&&de.c(),X=I(),P=u("button"),ee=u("div"),ee.innerHTML=Q,W=I(),Y=u("div"),Y.textContent=le,fe=I(),me=u("button"),ie=u("div"),ie.innerHTML=Ie,Be=I(),be=u("div"),be.textContent=Te,He=I(),Ee=u("button"),ge=u("div"),ge.innerHTML=ne,Ae=I(),he=u("div"),he.textContent=ce,pe=I(),we=u("div"),Oe&&Oe.c(),this.h()},l(se){e=d(se,"DIV",{});var xe=y(e);t=d(xe,"DIV",{class:!0});var Ze=y(t);l=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-dx4bdu"&&(l.textContent=r),i=E(Ze),n=d(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-745w2y"&&(n.innerHTML=c),Ze.forEach(f),h=E(xe),m=d(xe,"HR",{class:!0}),_=E(xe),p=d(xe,"DIV",{class:!0});var De=y(p);v=d(De,"DIV",{class:!0});var Ne=y(v);g=d(Ne,"BUTTON",{class:!0});var Ke=y(g);b=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),U(b)!=="svelte-qy1dha"&&(b.innerHTML=w),x=E(Ke),C=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),U(C)!=="svelte-115rgpl"&&(C.textContent=V),Ke.forEach(f),O=E(Ne),ve&&ve.l(Ne),B=E(Ne),S=d(Ne,"BUTTON",{class:!0});var nt=y(S);j=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-16cea28"&&(j.innerHTML=R),A=E(nt),D=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-1e0rlw4"&&(D.textContent=M),nt.forEach(f),q=E(Ne),H=d(Ne,"BUTTON",{class:!0});var ft=y(H);T=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-36jwmy"&&(T.innerHTML=L),F=E(ft),Z=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),U(Z)!=="svelte-c2twnz"&&(Z.textContent=J),ft.forEach(f),G=E(Ne),de&&de.l(Ne),X=E(Ne),P=d(Ne,"BUTTON",{class:!0});var _t=y(P);ee=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),U(ee)!=="svelte-1gtbwe5"&&(ee.innerHTML=Q),W=E(_t),Y=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),U(Y)!=="svelte-2d7hr4"&&(Y.textContent=le),_t.forEach(f),fe=E(Ne),me=d(Ne,"BUTTON",{class:!0});var ut=y(me);ie=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),U(ie)!=="svelte-amityv"&&(ie.innerHTML=Ie),Be=E(ut),be=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),U(be)!=="svelte-f0e2nc"&&(be.textContent=Te),ut.forEach(f),He=E(Ne),Ee=d(Ne,"BUTTON",{class:!0});var ht=y(Ee);ge=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),U(ge)!=="svelte-15t8s7e"&&(ge.innerHTML=ne),Ae=E(ht),he=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),U(he)!=="svelte-1nc16iq"&&(he.textContent=ce),ht.forEach(f),Ne.forEach(f),pe=E(De),we=d(De,"DIV",{class:!0});var Ct=y(we);Oe&&Oe.l(Ct),Ct.forEach(f),De.forEach(f),xe.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(m,"class","dark:border-gray-800"),o(b,"class","self-center mr-2"),o(C,"class","self-center"),o(g,"class",k="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(j,"class","self-center mr-2"),o(D,"class","self-center"),o(S,"class",z="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(T,"class","self-center mr-2"),o(Z,"class","self-center"),o(H,"class",$="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ee,"class","self-center mr-2"),o(Y,"class","self-center"),o(P,"class",ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ie,"class","self-center mr-2"),o(be,"class","self-center"),o(me,"class",Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ge,"class","self-center mr-2"),o(he,"class","self-center"),o(Ee,"class",ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(we,"class","flex-1 md:min-h-[380px]"),o(p,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(se,xe){N(se,e,xe),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,m),a(e,_),a(e,p),a(p,v),a(v,g),a(g,b),a(g,x),a(g,C),a(v,O),ve&&ve.m(v,null),a(v,B),a(v,S),a(S,j),a(S,A),a(S,D),a(v,q),a(v,H),a(H,T),a(H,F),a(H,Z),a(v,G),de&&de.m(v,null),a(v,X),a(v,P),a(P,ee),a(P,W),a(P,Y),a(v,fe),a(v,me),a(me,ie),a(me,Be),a(me,be),a(v,He),a(v,Ee),a(Ee,ge),a(Ee,Ae),a(Ee,he),a(p,pe),a(p,we),~Se&&oe[Se].m(we,null),Me=!0,Xe||(Ge=[K(n,"click",s[5]),K(g,"click",s[6]),K(S,"click",s[9]),K(H,"click",s[10]),K(P,"click",s[12]),K(me,"click",s[13]),K(Ee,"click",s[14])],Xe=!0)},p(se,xe){var De;(!Me||xe&2&&k!==(k="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(g,"class",k),((De=se[2])==null?void 0:De.role)==="admin"?ve?ve.p(se,xe):(ve=xs(se),ve.c(),ve.m(v,B)):ve&&(ve.d(1),ve=null),(!Me||xe&2&&z!==(z="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(S,"class",z),(!Me||xe&2&&$!==($="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(H,"class",$),se[2].role==="admin"?de?de.p(se,xe):(de=ks(se),de.c(),de.m(v,X)):de&&(de.d(1),de=null),(!Me||xe&2&&ue!==(ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(P,"class",ue),(!Me||xe&2&&Le!==(Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(me,"class",Le),(!Me||xe&2&&ye!==(ye="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Ee,"class",ye);let Ze=Se;Se=ae(se),Se===Ze?~Se&&oe[Se].p(se,xe):(Oe&&(Nt(),ze(oe[Ze],1,1,()=>{oe[Ze]=null}),Pt()),~Se?(Oe=oe[Se],Oe?Oe.p(se,xe):(Oe=oe[Se]=te[Se](se),Oe.c()),je(Oe,1),Oe.m(we,null)):Oe=null)},i(se){Me||(je(Oe),Me=!0)},o(se){ze(Oe),Me=!1},d(se){se&&f(e),ve&&ve.d(),de&&de.d(),~Se&&oe[Se].d(),Xe=!1,qe(Ge)}}}function uo(s){let e,t,l;function r(n){s[21](n)}let i={$$slots:{default:[co]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Mt(e,"show",r)),{c(){Qe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&8388615&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Dt(()=>t=!1)),e.$set(h)},i(n){l||(je(e.$$.fragment,n),l=!0)},o(n){ze(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}function fo(s,e,t){let l,r;Ye(s,Ht,D=>t(22,l=D)),Ye(s,wt,D=>t(2,r=D));let{show:i=!1}=e;const n=async D=>{console.log(D),await Ht.set({...l,...D}),await vt.set(await h()),localStorage.setItem("settings",JSON.stringify(l))};let c="general";const h=async()=>{let D=await Promise.all([await Ys(localStorage.token).catch(M=>(console.log(M),null)),await Xs(localStorage.token).catch(M=>(console.log(M),null)),await sr(localStorage.token).catch(M=>(console.log(M),null))]);return D=D.filter(M=>M).reduce((M,z,q,H)=>M.concat(z,...q<H.length-1?[{name:"hr"}]:[]),[]),D},m=()=>{t(0,i=!1)},_=()=>{t(1,c="general")},p=()=>{t(1,c="connections")},v=()=>{t(1,c="models")},g=()=>{t(1,c="interface")},b=()=>{t(1,c="audio")},w=()=>{t(1,c="images")},x=()=>{t(1,c="chats")},C=()=>{t(1,c="account")},V=()=>{t(1,c="about")},k=()=>{Ve.success("Settings saved successfully!")},O=()=>{Ve.success("Settings saved successfully!")},B=()=>{Ve.success("Settings saved successfully!")},S=()=>{Ve.success("Settings saved successfully!")},j=()=>{Ve.success("Settings saved successfully!")},R=()=>{Ve.success("Settings saved successfully!")};function A(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show)},[i,c,r,n,h,m,_,p,v,g,b,w,x,C,V,k,O,B,S,j,R,A]}class ho extends ot{constructor(e){super(),it(this,e,fo,uo,at,{show:0})}}function Cs(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function Is(s,e,t){const l=s.slice();return l[45]=e[t],l}function Es(s){let e,t='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/modelfiles"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Modelfiles</div></div></a>',l,r,i='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/prompts"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Prompts</div></div></a>',n,c,h='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/documents"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Documents</div></div></a>';return{c(){e=u("div"),e.innerHTML=t,l=I(),r=u("div"),r.innerHTML=i,n=I(),c=u("div"),c.innerHTML=h,this.h()},l(m){e=d(m,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-4i036s"&&(e.innerHTML=t),l=E(m),r=d(m,"DIV",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-16kqtns"&&(r.innerHTML=i),n=E(m),c=d(m,"DIV",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-g9o7iw"&&(c.innerHTML=h),this.h()},h(){o(e,"class","px-2 flex justify-center mt-0.5"),o(r,"class","px-2 flex justify-center"),o(c,"class","px-2 flex justify-center mb-1")},m(m,_){N(m,e,_),N(m,l,_),N(m,r,_),N(m,n,_),N(m,c,_)},d(m){m&&(f(e),f(l),f(r),f(n),f(c))}}}function Ts(s){let e,t,l,r="Chat History is off for this browser.",i,n,c=`When history is turned off, new chats on this browser won&#39;t appear in your history on
							any of your devices. <span class="font-semibold">This setting does not sync across browsers or devices.</span>`,h,m,_,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3 h-3"><path fill-rule="evenodd" d="M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg> <div>Enable Chat History</div>',v,g;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("div"),n.innerHTML=c,h=I(),m=u("div"),_=u("button"),_.innerHTML=p,this.h()},l(b){e=d(b,"DIV",{class:!0});var w=y(e);t=d(w,"DIV",{class:!0});var x=y(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1yilfmk"&&(l.textContent=r),i=E(x),n=d(x,"DIV",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1i6nvzg"&&(n.innerHTML=c),h=E(x),m=d(x,"DIV",{class:!0});var C=y(m);_=d(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),U(_)!=="svelte-1jjlsr2"&&(_.innerHTML=p),C.forEach(f),x.forEach(f),w.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs mt-2"),o(_,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-medium w-full"),o(_,"type","button"),o(m,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-black/90 flex justify-center")},m(b,w){N(b,e,w),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(t,m),a(m,_),v||(g=K(_,"click",s[17]),v=!0)},p:Pe,d(b){b&&f(e),v=!1,g()}}}function Ds(s){let e,t,l="all",r,i,n,c=Ue(s[10]),h=[];for(let m=0;m<c.length;m+=1)h[m]=Ms(Is(s,c,m));return{c(){e=u("div"),t=u("button"),t.textContent=l,r=I();for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){e=d(m,"DIV",{class:!0});var _=y(e);t=d(_,"BUTTON",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-55i6gh"&&(t.textContent=l),r=E(_);for(let p=0;p<h.length;p+=1)h[p].l(_);_.forEach(f),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(m,_){N(m,e,_),a(e,t),a(e,r);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(e,null);i||(n=K(t,"click",s[20]),i=!0)},p(m,_){if(_[0]&1024){c=Ue(m[10]);let p;for(p=0;p<c.length;p+=1){const v=Is(m,c,p);h[p]?h[p].p(v,_):(h[p]=Ms(v),h[p].c(),h[p].m(e,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=c.length}},d(m){m&&f(e),rt(h,m),i=!1,n()}}}function Ms(s){let e,t=s[45].name+"",l,r,i,n;function c(){return s[21](s[45])}return{c(){e=u("button"),l=ke(t),r=I(),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var m=y(e);l=Ce(m,t),r=E(m),m.forEach(f),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full")},m(h,m){N(h,e,m),a(e,l),a(e,r),i||(n=K(e,"click",c),i=!0)},p(h,m){s=h,m[0]&1024&&t!==(t=s[45].name+"")&&Re(l,t)},d(h){h&&f(e),i=!1,n()}}}function vo(s){let e,t,l,r=s[42].title+"",i,n,c,h,m,_;return{c(){e=u("a"),t=u("div"),l=u("div"),i=ke(r),this.h()},l(p){e=d(p,"A",{class:!0,href:!0,draggable:!0});var v=y(e);t=d(v,"DIV",{class:!0});var g=y(t);l=d(g,"DIV",{class:!0});var b=y(l);i=Ce(b,r),b.forEach(f),g.forEach(f),v.forEach(f),this.h()},h(){o(l,"class",n="text-left self-center overflow-hidden "+(s[42].id===s[11]?"w-[160px]":"w-full")+" h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis"),o(e,"href",h="/c/"+s[42].id),o(e,"draggable","false")},m(p,v){N(p,e,v),a(e,t),a(t,l),a(l,i),m||(_=K(e,"click",s[24]),m=!0)},p(p,v){v[0]&516&&r!==(r=p[42].title+"")&&Re(i,r),v[0]&2564&&n!==(n="text-left self-center overflow-hidden "+(p[42].id===p[11]?"w-[160px]":"w-full")+" h-[20px]")&&o(l,"class",n),v[0]&2564&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(p[42].id===p[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",c),v[0]&516&&h!==(h="/c/"+p[42].id)&&o(e,"href",h)},d(p){p&&f(e),m=!1,_()}}}function po(s){let e,t,l,r,i;return{c(){e=u("div"),t=u("input"),this.h()},l(n){e=d(n,"DIV",{class:!0});var c=y(e);t=d(c,"INPUT",{class:!0}),c.forEach(f),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")},m(n,c){N(n,e,c),a(e,t),re(t,s[5]),r||(i=K(t,"input",s[23]),r=!0)},p(n,c){c[0]&32&&t.value!==n[5]&&re(t,n[5]),c[0]&2564&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(n[42].id===n[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(n){n&&f(e),r=!1,i()}}}function Vs(s){let e;function t(i,n){return i[4]===i[42].id?_o:i[3]===i[42].id?go:mo}let l=t(s),r=l(s);return{c(){e=u("div"),r.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=y(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","absolute right-[22px] top-[10px]")},m(i,n){N(i,e,n),r.m(e,null)},p(i,n){l===(l=t(i))&&r?r.p(i,n):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},d(i){i&&f(e),r.d()}}}function mo(s){let e,t,l,r,i='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',n,c,h='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',m,_;function p(){return s[29](s[42])}function v(){return s[30](s[42])}function g(){return s[31](s[42])}return{c(){e=u("div"),t=u("button"),l=I(),r=u("button"),r.innerHTML=i,n=I(),c=u("button"),c.innerHTML=h,this.h()},l(b){e=d(b,"DIV",{class:!0});var w=y(e);t=d(w,"BUTTON",{id:!0,class:!0}),y(t).forEach(f),l=E(w),r=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-16dz98b"&&(r.innerHTML=i),n=E(w),c=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-tt1xf4"&&(c.innerHTML=h),w.forEach(f),this.h()},h(){o(t,"id","delete-chat-button"),o(t,"class","hidden"),o(r,"class","self-center hover:text-white transition"),o(c,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(b,w){N(b,e,w),a(e,t),a(e,l),a(e,r),a(e,n),a(e,c),m||(_=[K(t,"click",p),K(r,"click",v),K(c,"click",g)],m=!0)},p(b,w){s=b},d(b){b&&f(e),m=!1,qe(_)}}}function go(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function m(){return s[27](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=I(),i=u("button"),i.innerHTML=n,this.h()},l(_){e=d(_,"DIV",{class:!0});var p=y(e);t=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1nssieh"&&(t.innerHTML=l),r=E(p),i=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-18m8lql"&&(i.innerHTML=n),p.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(_,p){N(_,e,p),a(e,t),a(e,r),a(e,i),c||(h=[K(t,"click",m),K(i,"click",s[28])],c=!0)},p(_,p){s=_},d(_){_&&f(e),c=!1,qe(h)}}}function _o(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function m(){return s[25](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=I(),i=u("button"),i.innerHTML=n,this.h()},l(_){e=d(_,"DIV",{class:!0});var p=y(e);t=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-17xmshs"&&(t.innerHTML=l),r=E(p),i=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-14l2ssm"&&(i.innerHTML=n),p.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(_,p){N(_,e,p),a(e,t),a(e,r),a(e,i),c||(h=[K(t,"click",m),K(i,"click",s[26])],c=!0)},p(_,p){s=_},d(_){_&&f(e),c=!1,qe(h)}}}function Ls(s){let e,t,l;function r(h,m){return h[4]===h[42].id?po:vo}let i=r(s),n=i(s),c=s[42].id===s[11]&&Vs(s);return{c(){e=u("div"),n.c(),t=I(),c&&c.c(),l=I(),this.h()},l(h){e=d(h,"DIV",{class:!0});var m=y(e);n.l(m),t=E(m),c&&c.l(m),l=E(m),m.forEach(f),this.h()},h(){o(e,"class","w-full pr-2 relative")},m(h,m){N(h,e,m),n.m(e,null),a(e,t),c&&c.m(e,null),a(e,l)},p(h,m){i===(i=r(h))&&n?n.p(h,m):(n.d(1),n=i(h),n&&(n.c(),n.m(e,t))),h[42].id===h[11]?c?c.p(h,m):(c=Vs(h),c.c(),c.m(e,l)):c&&(c.d(1),c=null)},d(h){h&&f(e),n.d(),c&&c.d()}}}function As(s){let e,t,l,r,i,n,c=s[8].name+"",h,m,_,p,v,g=s[6]&&Ss(s);return{c(){e=u("button"),t=u("div"),l=u("img"),i=I(),n=u("div"),h=ke(c),m=I(),g&&g.c(),_=st(),this.h()},l(b){e=d(b,"BUTTON",{class:!0});var w=y(e);t=d(w,"DIV",{class:!0});var x=y(t);l=d(x,"IMG",{src:!0,class:!0,alt:!0}),x.forEach(f),i=E(w),n=d(w,"DIV",{class:!0});var C=y(n);h=Ce(C,c),C.forEach(f),w.forEach(f),m=E(b),g&&g.l(b),_=st(),this.h()},h(){Zt(l.src,r=s[8].profile_image_url)||o(l,"src",r),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(n,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-900 transition")},m(b,w){N(b,e,w),a(e,t),a(t,l),a(e,i),a(e,n),a(n,h),N(b,m,w),g&&g.m(b,w),N(b,_,w),p||(v=K(e,"click",s[32]),p=!0)},p(b,w){w[0]&256&&!Zt(l.src,r=b[8].profile_image_url)&&o(l,"src",r),w[0]&256&&c!==(c=b[8].name+"")&&Re(h,c),b[6]?g?(g.p(b,w),w[0]&64&&je(g,1)):(g=Ss(b),g.c(),je(g,1),g.m(_.parentNode,_)):g&&(g.d(1),g=null)},d(b){b&&(f(e),f(m),f(_)),g&&g.d(b),p=!1,v()}}}function Ss(s){let e,t,l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="self-center font-medium">Playground</div>',n,c,h='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Settings</div>',m,_,p,v,g,b='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg></div> <div class="self-center font-medium">Sign Out</div>',w,x,C,V=s[8].role==="admin"&&Os(s);return{c(){e=u("div"),t=u("div"),V&&V.c(),l=I(),r=u("button"),r.innerHTML=i,n=I(),c=u("button"),c.innerHTML=h,m=I(),_=u("hr"),p=I(),v=u("div"),g=u("button"),g.innerHTML=b,this.h()},l(k){e=d(k,"DIV",{id:!0,class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var B=y(t);V&&V.l(B),l=E(B),r=d(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(r)!=="svelte-67wdxn"&&(r.innerHTML=i),n=E(B),c=d(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-1qgf4kj"&&(c.innerHTML=h),B.forEach(f),m=E(O),_=d(O,"HR",{class:!0}),p=E(O),v=d(O,"DIV",{class:!0});var S=y(v);g=d(S,"BUTTON",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-1bssfs0"&&(g.innerHTML=b),S.forEach(f),O.forEach(f),this.h()},h(){o(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(c,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(t,"class","py-2 w-full"),o(_,"class","border-gray-700 m-0 p-0"),o(g,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(v,"class","py-2 w-full"),o(e,"id","dropdownDots"),o(e,"class","absolute z-40 bottom-[70px] 4.5rem rounded-xl shadow w-[240px] bg-gray-900")},m(k,O){N(k,e,O),a(e,t),V&&V.m(t,null),a(t,l),a(t,r),a(t,n),a(t,c),a(e,m),a(e,_),a(e,p),a(e,v),a(v,g),x||(C=[K(r,"click",s[34]),K(c,"click",s[35]),K(g,"click",s[36])],x=!0)},p(k,O){k[8].role==="admin"?V?V.p(k,O):(V=Os(k),V.c(),V.m(t,l)):V&&(V.d(1),V=null)},i(k){k&&(w||mt(()=>{w=ur(e,Wr,{duration:150}),w.start()}))},o:Pe,d(k){k&&f(e),V&&V.d(),x=!1,qe(C)}}}function Os(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Admin Panel</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-afwvzp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition")},m(i,n){N(i,e,n),l||(r=K(e,"click",s[33]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function bo(s){let e,t,l,r,i,n,c,h,m,_,p;return{c(){e=u("button"),t=u("span"),l=u("div"),r=u("div"),i=u("div"),c=I(),h=u("div"),this.h()},l(v){e=d(v,"BUTTON",{id:!0,class:!0});var g=y(e);t=d(g,"SPAN",{class:!0,"data-state":!0});var b=y(t);l=d(b,"DIV",{class:!0});var w=y(l);r=d(w,"DIV",{class:!0});var x=y(r);i=d(x,"DIV",{class:!0}),y(i).forEach(f),c=E(x),h=d(x,"DIV",{class:!0}),y(h).forEach(f),x.forEach(f),w.forEach(f),b.forEach(f),g.forEach(f),this.h()},h(){o(i,"class",n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),o(h,"class",m="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),o(r,"class","flex h-6 w-6 flex-col items-center"),o(l,"class","flex h-[72px] w-8 items-center justify-center opacity-20 group-hover:opacity-100 transition"),o(t,"class",""),o(t,"data-state","closed"),o(e,"id","sidebar-toggle-button"),o(e,"class","group")},m(v,g){N(v,e,g),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),_||(p=K(e,"click",s[37]),_=!0)},p(v,g){g[0]&1&&n!==(n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(v[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&o(i,"class",n),g[0]&1&&m!==(m="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(v[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&o(h,"class",m)},d(v){v&&f(e),_=!1,p()}}}function wo(s){var $;let e,t,l,r,i=`<div class="flex self-center"><div class="self-center mr-1.5"><img src="${Qs}/static/favicon.png" class="w-7 -translate-x-1.5 rounded-full" alt="logo"/></div> <div class="self-center font-medium text-sm">New Chat</div></div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1020 1020" fill="currentColor" class="w-4 h-4"><path d="M935.262724 0H88.737276C39.790922 0 0 39.43879 0 88.385144v610.596974c0 48.594223 39.790922 88.385144 88.737276 88.385145h180.995874l-11.97249 236.632737 378.541953-236.632737h298.960111c48.946355 0 88.737276-39.790922 88.737276-88.385145V88.385144c0-48.946355-39.790922-88.385144-88.737276-88.385144z m-209.870702 454.954608h-156.34663v156.698762h-114.090784v-156.698762H298.607978V341.215956h156.34663V184.869326h114.090784v156.34663h156.34663v113.738652zM156.34663 85.215956h711.30674c39.086657 0 71.130674 31.691884 71.130674 71.130674v469.392022c0 39.43879-32.044017 71.130674-71.130674 71.130674h-268.676754l-243.323246 156.34663 7.042641-156.34663H156.34663c-39.086657 0-71.130674-31.691884-71.130674-71.130674V156.34663c0-39.43879 32.044017-71.130674 71.130674-71.130674z"></path></svg></div>`,n,c,h,m,_,p,v,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',b,w,x,C,V,k,O,B,S,j,R,A,D,M,z,q,H=(($=s[8])==null?void 0:$.role)==="admin"&&Es(),T=!(s[7].saveChatHistory??!0)&&Ts(s),L=s[10].length>0&&Ds(s),F=Ue(s[9].filter(s[22])),Z=[];for(let G=0;G<F.length;G+=1)Z[G]=Ls(Cs(s,F,G));let J=s[8]!==void 0&&As(s);return A=new cl({props:{placement:"right",content:`${s[0]?"Close":"Open"} sidebar`,touch:!1,$$slots:{default:[bo]},$$scope:{ctx:s}}}),{c(){e=u("div"),t=u("div"),l=u("div"),r=u("a"),r.innerHTML=i,n=I(),H&&H.c(),c=I(),h=u("div"),T&&T.c(),m=I(),_=u("div"),p=u("div"),v=u("div"),v.innerHTML=g,b=I(),w=u("input"),x=I(),L&&L.c(),C=I(),V=u("div");for(let G=0;G<Z.length;G+=1)Z[G].c();k=I(),O=u("div"),B=u("div"),J&&J.c(),j=I(),R=u("div"),Qe(A.$$.fragment),this.h()},l(G){e=d(G,"DIV",{class:!0});var X=y(e);t=d(X,"DIV",{class:!0});var P=y(t);l=d(P,"DIV",{class:!0});var ee=y(l);r=d(ee,"A",{id:!0,class:!0,href:!0,"data-svelte-h":!0}),U(r)!=="svelte-1ru34b1"&&(r.innerHTML=i),ee.forEach(f),n=E(P),H&&H.l(P),c=E(P),h=d(P,"DIV",{class:!0});var Q=y(h);T&&T.l(Q),m=E(Q),_=d(Q,"DIV",{class:!0});var W=y(_);p=d(W,"DIV",{class:!0,id:!0});var Y=y(p);v=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-3funz9"&&(v.innerHTML=g),b=E(Y),w=d(Y,"INPUT",{class:!0,placeholder:!0}),Y.forEach(f),W.forEach(f),x=E(Q),L&&L.l(Q),C=E(Q),V=d(Q,"DIV",{class:!0});var le=y(V);for(let ie=0;ie<Z.length;ie+=1)Z[ie].l(le);le.forEach(f),Q.forEach(f),k=E(P),O=d(P,"DIV",{class:!0});var ue=y(O);B=d(ue,"DIV",{class:!0});var fe=y(B);J&&J.l(fe),fe.forEach(f),ue.forEach(f),P.forEach(f),j=E(X),R=d(X,"DIV",{class:!0});var me=y(R);$e(A.$$.fragment,me),me.forEach(f),X.forEach(f),this.h()},h(){o(r,"id","sidebar-new-chat-button"),o(r,"class","flex-grow flex justify-between rounded-xl px-3.5 py-2 hover:bg-gray-900 transition"),o(r,"href","/"),o(l,"class","px-2 flex justify-center space-x-2"),o(v,"class","self-center pl-3 py-2 rounded-l-xl bg-gray-950"),o(w,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm text-gray-300 bg-gray-950 outline-none"),o(w,"placeholder","Search"),o(p,"class","flex w-full"),o(p,"id","chat-search"),o(_,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),o(V,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto"),o(h,"class","relative flex flex-col flex-1 overflow-y-auto"),o(B,"class","flex flex-col"),o(O,"class","px-2.5"),o(t,"class",S="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[0]?"":"invisible")),o(R,"class","fixed left-0 top-[50dvh] z-40 -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),o(e,"class",D="h-screen max-h-[100dvh] min-h-screen "+(s[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0")},m(G,X){N(G,e,X),a(e,t),a(t,l),a(l,r),a(t,n),H&&H.m(t,null),a(t,c),a(t,h),T&&T.m(h,null),a(h,m),a(h,_),a(_,p),a(p,v),a(p,b),a(p,w),re(w,s[2]),a(h,x),L&&L.m(h,null),a(h,C),a(h,V);for(let P=0;P<Z.length;P+=1)Z[P]&&Z[P].m(V,null);a(t,k),a(t,O),a(O,B),J&&J.m(B,null),a(e,j),a(e,R),et(A,R,null),s[38](e),M=!0,z||(q=[K(r,"click",s[16]),K(w,"input",s[18]),K(w,"focus",s[19])],z=!0)},p(G,X){var ee;if(((ee=G[8])==null?void 0:ee.role)==="admin"?H||(H=Es(),H.c(),H.m(t,c)):H&&(H.d(1),H=null),G[7].saveChatHistory??!0?T&&(T.d(1),T=null):T?T.p(G,X):(T=Ts(G),T.c(),T.m(h,m)),X[0]&4&&w.value!==G[2]&&re(w,G[2]),G[10].length>0?L?L.p(G,X):(L=Ds(G),L.c(),L.m(h,C)):L&&(L.d(1),L=null),X[0]&27197){F=Ue(G[9].filter(G[22]));let Q;for(Q=0;Q<F.length;Q+=1){const W=Cs(G,F,Q);Z[Q]?Z[Q].p(W,X):(Z[Q]=Ls(W),Z[Q].c(),Z[Q].m(V,null))}for(;Q<Z.length;Q+=1)Z[Q].d(1);Z.length=F.length}G[8]!==void 0?J?J.p(G,X):(J=As(G),J.c(),J.m(B,null)):J&&(J.d(1),J=null),(!M||X[0]&1&&S!==(S="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(G[0]?"":"invisible")))&&o(t,"class",S);const P={};X[0]&1&&(P.content=`${G[0]?"Close":"Open"} sidebar`),X[0]&1|X[1]&131072&&(P.$$scope={dirty:X,ctx:G}),A.$set(P),(!M||X[0]&1&&D!==(D="h-screen max-h-[100dvh] min-h-screen "+(G[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0"))&&o(e,"class",D)},i(G){M||(je(A.$$.fragment,G),M=!0)},o(G){ze(A.$$.fragment,G),M=!1},d(G){G&&f(e),H&&H.d(),T&&T.d(),L&&L.d(),rt(Z,G),J&&J.d(),tt(A),s[38](null),z=!1,qe(q)}}}function yo(s,e,t){let l,r,i,n,c;Ye(s,Ht,W=>t(7,l=W)),Ye(s,wt,W=>t(8,r=W)),Ye(s,yt,W=>t(9,i=W)),Ye(s,Qt,W=>t(10,n=W)),Ye(s,wr,W=>t(11,c=W));let h=!1,m,_="",p=null,v=null,g="",b=!1;dt(async()=>{window.innerWidth>1024&&t(0,h=!0),await yt.set(await Et(localStorage.token))});const w=async W=>{const Y=await Promise.all(W.map(async le=>{const ue=await jr(localStorage.token,le.id).catch(fe=>null);return ue&&(le.chat=ue.chat),le}));await yt.set(Y)},x=async(W,Y)=>{Y===""?Ve.error("Title cannot be an empty string."):(await Ur(localStorage.token,W,{title:Y}),await yt.set(await Et(localStorage.token)))},C=async W=>{await zr(localStorage.token,W).catch(le=>(Ve.error(le),t(3,p=null),null))&&(Tt("/"),await yt.set(await Et(localStorage.token)))},V=async W=>{await Ht.set({...l,...W}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},k=async()=>{await Tt("/");const W=document.getElementById("new-chat-button");setTimeout(()=>{W==null||W.click()},0)},O=()=>{V({saveChatHistory:!0})};function B(){_=this.value,t(2,_)}const S=()=>{w(i)},j=async()=>{await yt.set(await Et(localStorage.token))},R=async W=>{let Y=await Rr(localStorage.token,W.name);Y.length===0&&(await Qt.set(await $s(localStorage.token)),Y=await Et(localStorage.token)),await yt.set(Y)},A=W=>{if(_==="")return!0;{let Y=W.title.toLowerCase();const le=_.toLowerCase();let ue=!1;return W.chat&&W.chat.messages&&Array.isArray(W.chat.messages)&&(ue=W.chat.messages.some(fe=>fe.content&&fe.content.toLowerCase().includes(le))),Y.includes(le)||ue}};function D(){g=this.value,t(5,g)}const M=()=>{window.innerWidth<1024&&t(0,h=!1)},z=W=>{x(W.id,g),t(4,v=null),t(5,g="")},q=()=>{t(4,v=null),t(5,g="")},H=W=>{C(W.id)},T=()=>{t(3,p=null)},L=W=>{C(W.id)},F=W=>{t(5,g=W.title),t(4,v=W.id)},Z=W=>{t(3,p=W.id)},J=()=>{t(6,b=!b)},$=()=>{Tt("/admin"),t(6,b=!1)},G=()=>{Tt("/playground"),t(6,b=!1)},X=async()=>{await $t.set(!0),t(6,b=!1)},P=()=>{localStorage.removeItem("token"),location.href="/auth",t(6,b=!1)},ee=()=>{t(0,h=!h)};function Q(W){pt[W?"unshift":"push"](()=>{m=W,t(1,m)})}return[h,m,_,p,v,g,b,l,r,i,n,c,w,x,C,V,k,O,B,S,j,R,A,D,M,z,q,H,T,L,F,Z,J,$,G,X,P,ee,Q]}class xo extends ot{constructor(e){super(),it(this,e,yo,wo,at,{},null,[-1,-1])}}function ko(s){let e,t,l,r="Keyboard shortcuts",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,m,_,p,v='<div class="flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Open new chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Focus chat input</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last code block</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last response</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div></div></div></div> <div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Toggle settings</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Toggle sidebar</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Delete chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">⌫</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Show shortcuts</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div></div></div></div></div>',g,b;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=I(),n=u("button"),n.innerHTML=c,h=I(),m=u("hr"),_=I(),p=u("div"),p.innerHTML=v,this.h()},l(w){e=d(w,"DIV",{});var x=y(e);t=d(x,"DIV",{class:!0});var C=y(t);l=d(C,"DIV",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1kiv0rh"&&(l.textContent=r),i=E(C),n=d(C,"BUTTON",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-745w2y"&&(n.innerHTML=c),C.forEach(f),h=E(x),m=d(x,"HR",{class:!0}),_=E(x),p=d(x,"DIV",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-1qbe2xr"&&(p.innerHTML=v),x.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(m,"class","dark:border-gray-800"),o(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(w,x){N(w,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,m),a(e,_),a(e,p),g||(b=K(n,"click",s[1]),g=!0)},p:Pe,d(w){w&&f(e),g=!1,b()}}}function Co(s){let e,t,l;function r(n){s[2](n)}let i={$$slots:{default:[ko]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Mt(e,"show",r)),{c(){Qe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&9&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Dt(()=>t=!1)),e.$set(h)},i(n){l||(je(e.$$.fragment,n),l=!0)},o(n){ze(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}function Io(s,e,t){let{show:l=!1}=e;const r=()=>{t(0,l=!1)};function i(n){l=n,t(0,l)}return s.$$set=n=>{"show"in n&&t(0,l=n.show)},[l,r,i]}class Eo extends ot{constructor(e){super(),it(this,e,Io,Co,at,{show:0})}}function Hs(s,e,t){const l=s.slice();return l[19]=e[t],l}function Bs(s){let e,t=Ue({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ns(Hs(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=y(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","confetti-holder svelte-15ksp55"),It(e,"rounded",s[9]),It(e,"cone",s[10]),It(e,"no-gravity",s[11]),It(e,"reduced-motion",s[13])},m(r,i){N(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&37375){t=Ue({length:r[6]});let n;for(n=0;n<t.length;n+=1){const c=Hs(r,t,n);l[n]?l[n].p(c,i):(l[n]=Ns(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}i&512&&It(e,"rounded",r[9]),i&1024&&It(e,"cone",r[10]),i&2048&&It(e,"no-gravity",r[11]),i&8192&&It(e,"reduced-motion",r[13])},d(r){r&&f(e),rt(l,r)}}}function Ns(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),y(e).forEach(f),this.h()},h(){o(e,"class","confetti svelte-15ksp55"),Fe(e,"--fall-distance",s[8]),Fe(e,"--size",s[0]+"px"),Fe(e,"--color",s[15]()),Fe(e,"--skew",ct(-45,45)+"deg,"+ct(-45,45)+"deg"),Fe(e,"--rotation-xyz",ct(-10,10)+", "+ct(-10,10)+", "+ct(-10,10)),Fe(e,"--rotation-deg",ct(0,360)+"deg"),Fe(e,"--translate-y-multiplier",ct(s[2][0],s[2][1])),Fe(e,"--translate-x-multiplier",ct(s[1][0],s[1][1])),Fe(e,"--scale",.1*ct(2,10)),Fe(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),Fe(e,"--transition-delay",ct(s[5][0],s[5][1])+"ms"),Fe(e,"--transition-iteration-count",s[4]?"infinite":s[7]),Fe(e,"--x-spread",1-s[12])},m(t,l){N(t,e,l)},p(t,l){l&256&&Fe(e,"--fall-distance",t[8]),l&1&&Fe(e,"--size",t[0]+"px"),l&4&&Fe(e,"--translate-y-multiplier",ct(t[2][0],t[2][1])),l&2&&Fe(e,"--translate-x-multiplier",ct(t[1][0],t[1][1])),l&24&&Fe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&Fe(e,"--transition-delay",ct(t[5][0],t[5][1])+"ms"),l&144&&Fe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&Fe(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function To(s){let e,t=!s[14]&&Bs(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),N(l,e,r)},p(l,[r]){l[14]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Bs(l),t.c(),t.m(e.parentNode,e))},i:Pe,o:Pe,d(l){l&&f(e),t&&t.d(l)}}}function ct(s,e){return Math.random()*(e-s)+s}function Do(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:n=2e3}=e,{infinite:c=!1}=e,{delay:h=[0,50]}=e,{colorRange:m=[0,360]}=e,{colorArray:_=[]}=e,{amount:p=50}=e,{iterationCount:v=1}=e,{fallDistance:g="100px"}=e,{rounded:b=!1}=e,{cone:w=!1}=e,{noGravity:x=!1}=e,{xSpread:C=.15}=e,{destroyOnComplete:V=!0}=e,{disableForReducedMotion:k=!1}=e,O=!1;dt(()=>{!V||c||v=="infinite"||setTimeout(()=>t(14,O=!0),(n+h[1])*v)});function B(){return _.length?_[Math.round(Math.random()*(_.length-1))]:`hsl(${Math.round(ct(m[0],m[1]))}, 75%, 50%)`}return s.$$set=S=>{"size"in S&&t(0,l=S.size),"x"in S&&t(1,r=S.x),"y"in S&&t(2,i=S.y),"duration"in S&&t(3,n=S.duration),"infinite"in S&&t(4,c=S.infinite),"delay"in S&&t(5,h=S.delay),"colorRange"in S&&t(16,m=S.colorRange),"colorArray"in S&&t(17,_=S.colorArray),"amount"in S&&t(6,p=S.amount),"iterationCount"in S&&t(7,v=S.iterationCount),"fallDistance"in S&&t(8,g=S.fallDistance),"rounded"in S&&t(9,b=S.rounded),"cone"in S&&t(10,w=S.cone),"noGravity"in S&&t(11,x=S.noGravity),"xSpread"in S&&t(12,C=S.xSpread),"destroyOnComplete"in S&&t(18,V=S.destroyOnComplete),"disableForReducedMotion"in S&&t(13,k=S.disableForReducedMotion)},[l,r,i,n,c,h,p,v,g,b,w,x,C,k,O,B,m,_,V]}class Mo extends ot{constructor(e){super(),it(this,e,Do,To,at,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function Ps(s,e,t){const l=s.slice();return l[7]=e[t],l}function js(s,e,t){const l=s.slice();return l[10]=e[t],l}function Us(s,e,t){const l=s.slice();return l[13]=e[t],l}function zs(s){let e,t=Ue(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=qs(Ps(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=st()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=st()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);N(r,e,i)},p(r,i){if(i&2){t=Ue(Object.keys(r[1]));let n;for(n=0;n<t.length;n+=1){const c=Ps(r,t,n);l[n]?l[n].p(c,i):(l[n]=qs(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function Rs(s){let e,t,l=s[1][s[7]][s[10]][s[13]].title+"",r,i,n,c=s[1][s[7]][s[10]][s[13]].content+"",h;return{c(){e=u("div"),t=u("div"),r=ke(l),i=I(),n=u("div"),h=ke(c),this.h()},l(m){e=d(m,"DIV",{class:!0});var _=y(e);t=d(_,"DIV",{class:!0});var p=y(t);r=Ce(p,l),p.forEach(f),i=E(_),n=d(_,"DIV",{class:!0});var v=y(n);h=Ce(v,c),v.forEach(f),_.forEach(f),this.h()},h(){o(t,"class","font-semibold uppercase"),o(n,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(m,_){N(m,e,_),a(e,t),a(t,r),a(e,i),a(e,n),a(n,h)},p(m,_){_&2&&l!==(l=m[1][m[7]][m[10]][m[13]].title+"")&&Re(r,l),_&2&&c!==(c=m[1][m[7]][m[10]][m[13]].content+"")&&Re(h,c)},d(m){m&&f(e)}}}function Zs(s){let e,t,l=s[10]+"",r,i,n,c,h=Ue(Object.keys(s[1][s[7]][s[10]])),m=[];for(let _=0;_<h.length;_+=1)m[_]=Rs(Us(s,h,_));return{c(){e=u("div"),t=u("div"),r=ke(l),n=I(),c=u("div");for(let _=0;_<m.length;_+=1)m[_].c();this.h()},l(_){e=d(_,"DIV",{class:!0});var p=y(e);t=d(p,"DIV",{class:!0});var v=y(t);r=Ce(v,l),v.forEach(f),n=E(p),c=d(p,"DIV",{class:!0});var g=y(c);for(let b=0;b<m.length;b+=1)m[b].l(g);g.forEach(f),p.forEach(f),this.h()},h(){o(t,"class",i="font-bold uppercase text-xs "+(s[10]==="added"?"text-white bg-blue-600":s[10]==="fixed"?"text-white bg-green-600":s[10]==="changed"?"text-white bg-yellow-600":s[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(_,p){N(_,e,p),a(e,t),a(t,r),a(e,n),a(e,c);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(c,null)},p(_,p){if(p&2&&l!==(l=_[10]+"")&&Re(r,l),p&2&&i!==(i="font-bold uppercase text-xs "+(_[10]==="added"?"text-white bg-blue-600":_[10]==="fixed"?"text-white bg-green-600":_[10]==="changed"?"text-white bg-yellow-600":_[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",i),p&2){h=Ue(Object.keys(_[1][_[7]][_[10]]));let v;for(v=0;v<h.length;v+=1){const g=Us(_,h,v);m[v]?m[v].p(g,p):(m[v]=Rs(g),m[v].c(),m[v].m(c,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=h.length}},d(_){_&&f(e),rt(m,_)}}}function qs(s){let e,t,l,r=s[7]+"",i,n,c=s[1][s[7]].date+"",h,m,_,p,v,g=Ue(Object.keys(s[1][s[7]]).filter(Gs)),b=[];for(let w=0;w<g.length;w+=1)b[w]=Zs(js(s,g,w));return{c(){e=u("div"),t=u("div"),l=ke("v"),i=ke(r),n=ke(" - "),h=ke(c),m=I(),_=u("hr"),p=I();for(let w=0;w<b.length;w+=1)b[w].c();v=I(),this.h()},l(w){e=d(w,"DIV",{class:!0});var x=y(e);t=d(x,"DIV",{class:!0});var C=y(t);l=Ce(C,"v"),i=Ce(C,r),n=Ce(C," - "),h=Ce(C,c),C.forEach(f),m=E(x),_=d(x,"HR",{class:!0}),p=E(x);for(let V=0;V<b.length;V+=1)b[V].l(x);v=E(x),x.forEach(f),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(_,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(w,x){N(w,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(e,m),a(e,_),a(e,p);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(e,null);a(e,v)},p(w,x){if(x&2&&r!==(r=w[7]+"")&&Re(i,r),x&2&&c!==(c=w[1][w[7]].date+"")&&Re(h,c),x&2){g=Ue(Object.keys(w[1][w[7]]).filter(Gs));let C;for(C=0;C<g.length;C+=1){const V=js(w,g,C);b[C]?b[C].p(V,x):(b[C]=Zs(V),b[C].c(),b[C].m(e,v))}for(;C<b.length;C+=1)b[C].d(1);b.length=g.length}},d(w){w&&f(e),rt(b,w)}}}function Vo(s){let e,t,l,r,i,n,c,h,m,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,v,g,b="Release Notes",w,x,C,V,k,O,B,S,j,R,A,D,M,z,q,H='<span class="relative">Okay, Let&#39;s Go!</span>',T,L,F;c=new Mo({props:{x:[-1,-.25],y:[0,.5]}});let Z=s[1]&&zs(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=ke("What’s New in "),i=ke(s[2]),n=I(),Qe(c.$$.fragment),h=I(),m=u("button"),m.innerHTML=_,p=I(),v=u("div"),g=u("div"),g.textContent=b,w=I(),x=u("div"),C=I(),V=u("div"),k=ke("v"),O=ke(Lt),B=I(),S=u("hr"),j=I(),R=u("div"),A=u("div"),D=u("div"),Z&&Z.c(),M=I(),z=u("div"),q=u("button"),q.innerHTML=H,this.h()},l(J){e=d(J,"DIV",{class:!0});var $=y(e);t=d($,"DIV",{class:!0});var G=y(t);l=d(G,"DIV",{class:!0});var X=y(l);r=Ce(X,"What’s New in "),i=Ce(X,s[2]),n=E(X),$e(c.$$.fragment,X),X.forEach(f),h=E(G),m=d(G,"BUTTON",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-745w2y"&&(m.innerHTML=_),G.forEach(f),p=E($),v=d($,"DIV",{class:!0});var P=y(v);g=d(P,"DIV",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-jop83j"&&(g.textContent=b),w=E(P),x=d(P,"DIV",{class:!0}),y(x).forEach(f),C=E(P),V=d(P,"DIV",{class:!0});var ee=y(V);k=Ce(ee,"v"),O=Ce(ee,Lt),ee.forEach(f),P.forEach(f),$.forEach(f),B=E(J),S=d(J,"HR",{class:!0}),j=E(J),R=d(J,"DIV",{class:!0});var Q=y(R);A=d(Q,"DIV",{class:!0});var W=y(A);D=d(W,"DIV",{class:!0});var Y=y(D);Z&&Z.l(Y),Y.forEach(f),W.forEach(f),M=E(Q),z=d(Q,"DIV",{class:!0});var le=y(z);q=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(q)!=="svelte-d24sb8"&&(q.innerHTML=H),le.forEach(f),Q.forEach(f),this.h()},h(){o(l,"class","text-xl font-bold"),o(m,"class","self-center"),o(t,"class","flex justify-between items-start"),o(g,"class","text-sm dark:text-gray-200"),o(x,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(V,"class","text-sm dark:text-gray-200"),o(v,"class","flex items-center mt-1"),o(e,"class","px-5 py-4 dark:text-gray-300"),o(S,"class","dark:border-gray-800"),o(D,"class","mb-3"),o(A,"class","overflow-y-scroll max-h-80"),o(q,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),o(z,"class","flex justify-end pt-3 text-sm font-medium"),o(R,"class","w-full p-4 px-5")},m(J,$){N(J,e,$),a(e,t),a(t,l),a(l,r),a(l,i),a(l,n),et(c,l,null),a(t,h),a(t,m),a(e,p),a(e,v),a(v,g),a(v,w),a(v,x),a(v,C),a(v,V),a(V,k),a(V,O),N(J,B,$),N(J,S,$),N(J,j,$),N(J,R,$),a(R,A),a(A,D),Z&&Z.m(D,null),a(R,M),a(R,z),a(z,q),T=!0,L||(F=[K(m,"click",s[4]),K(q,"click",s[5])],L=!0)},p(J,$){(!T||$&4)&&Re(i,J[2]),J[1]?Z?Z.p(J,$):(Z=zs(J),Z.c(),Z.m(D,null)):Z&&(Z.d(1),Z=null)},i(J){T||(je(c.$$.fragment,J),T=!0)},o(J){ze(c.$$.fragment,J),T=!1},d(J){J&&(f(e),f(B),f(S),f(j),f(R)),tt(c),Z&&Z.d(),L=!1,qe(F)}}}function Lo(s){let e,t,l;function r(n){s[6](n)}let i={$$slots:{default:[Vo]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Mt(e,"show",r)),{c(){Qe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&65551&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Dt(()=>t=!1)),e.$set(h)},i(n){l||(je(e.$$.fragment,n),l=!0)},o(n){ze(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}const Gs=s=>s!=="date";function Ao(s,e,t){let l,r;Ye(s,il,_=>t(2,l=_)),Ye(s,Ot,_=>t(3,r=_));let{show:i=!1}=e,n=null;dt(async()=>{const _=await Qr();t(1,n=_)});const c=()=>{t(0,i=!1)},h=()=>{localStorage.version=r.version,t(0,i=!1)};function m(_){i=_,t(0,i)}return s.$$set=_=>{"show"in _&&t(0,i=_.show)},[i,n,l,r,c,h,m]}class So extends ot{constructor(e){super(),it(this,e,Ao,Lo,at,{show:0})}}function Fs(s){let e,t,l,r,i,n,c,h,m,_,p,v,g,b,w,x,C,V,k;t=new cl({props:{content:"help",placement:"left",$$slots:{default:[Oo]},$$scope:{ctx:s}}});function O(T){s[12](T)}let B={};s[4]!==void 0&&(B.show=s[4]),r=new Eo({props:B}),pt.push(()=>Mt(r,"show",O));function S(T,L){if(L&32&&(h=null),h==null&&(h=!["user","admin"].includes(T[5].role)),h)return Bo;if(T[3].length>0)return Ho}let j=S(s,-1),R=j&&j(s);p=new xo({});function A(T){s[17](T)}let D={};s[6]!==void 0&&(D.show=s[6]),g=new ho({props:D}),pt.push(()=>Mt(g,"show",A));function M(T){s[18](T)}let z={};s[7]!==void 0&&(z.show=s[7]),x=new So({props:z}),pt.push(()=>Mt(x,"show",M));const q=s[9].default,H=ar(q,s,s[19],null);return{c(){e=u("div"),Qe(t.$$.fragment),l=I(),Qe(r.$$.fragment),n=I(),c=u("div"),R&&R.c(),m=I(),_=u("div"),Qe(p.$$.fragment),v=I(),Qe(g.$$.fragment),w=I(),Qe(x.$$.fragment),V=I(),H&&H.c(),this.h()},l(T){e=d(T,"DIV",{class:!0});var L=y(e);$e(t.$$.fragment,L),L.forEach(f),l=E(T),$e(r.$$.fragment,T),n=E(T),c=d(T,"DIV",{class:!0});var F=y(c);R&&R.l(F),m=E(F),_=d(F,"DIV",{class:!0});var Z=y(_);$e(p.$$.fragment,Z),v=E(Z),$e(g.$$.fragment,Z),w=E(Z),$e(x.$$.fragment,Z),V=E(Z),H&&H.l(Z),Z.forEach(f),F.forEach(f),this.h()},h(){o(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),o(_,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),o(c,"class","app relative")},m(T,L){N(T,e,L),et(t,e,null),N(T,l,L),et(r,T,L),N(T,n,L),N(T,c,L),R&&R.m(c,null),a(c,m),a(c,_),et(p,_,null),a(_,v),et(g,_,null),a(_,w),et(x,_,null),a(_,V),H&&H.m(_,null),k=!0},p(T,L){const F={};L&524306&&(F.$$scope={dirty:L,ctx:T}),t.$set(F);const Z={};!i&&L&16&&(i=!0,Z.show=T[4],Dt(()=>i=!1)),r.$set(Z),j===(j=S(T,L))&&R?R.p(T,L):(R&&R.d(1),R=j&&j(T),R&&(R.c(),R.m(c,m)));const J={};!b&&L&64&&(b=!0,J.show=T[6],Dt(()=>b=!1)),g.$set(J);const $={};!C&&L&128&&(C=!0,$.show=T[7],Dt(()=>C=!1)),x.$set($),H&&H.p&&(!k||L&524288)&&or(H,q,T,T[19],k?cr(q,T[19],L,null):ir(T[19]),null)},i(T){k||(je(t.$$.fragment,T),je(r.$$.fragment,T),je(p.$$.fragment,T),je(g.$$.fragment,T),je(x.$$.fragment,T),je(H,T),k=!0)},o(T){ze(t.$$.fragment,T),ze(r.$$.fragment,T),ze(p.$$.fragment,T),ze(g.$$.fragment,T),ze(x.$$.fragment,T),ze(H,T),k=!1},d(T){T&&(f(e),f(l),f(n),f(c)),tt(t),tt(r,T),R&&R.d(),tt(p),tt(g),tt(x),H&&H.d(T)}}}function Oo(s){let e,t="?",l,r;return{c(){e=u("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1hfyx97"&&(e.textContent=t),this.h()},h(){o(e,"id","show-shortcuts-button"),o(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(i,n){N(i,e,n),s[10](e),l||(r=K(e,"click",s[11]),l=!0)},p:Pe,d(i){i&&f(e),s[10](null),l=!1,r()}}}function Ho(s){let e,t,l,r,i,n="Important Update<br/> Action Required for Chat Log Storage",c,h,m=`Saving chat logs directly to your browser&#39;s storage is no longer supported. Please
								take a moment to download and delete your chat logs by clicking the button below.
								Don&#39;t worry, you can easily re-import your chat logs to the backend through <span class="font-semibold dark:text-white">Settings &gt; Chats &gt; Import Chats</span>. This ensures that your valuable conversations are securely saved to your backend
								database. Thank you!`,_,p,v,g="Download & Delete",b,w,x="Close",C,V;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=I(),h=u("div"),h.innerHTML=m,_=I(),p=u("div"),v=u("button"),v.textContent=g,b=I(),w=u("button"),w.textContent=x,this.h()},l(k){e=d(k,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var B=y(t);l=d(B,"DIV",{class:!0});var S=y(l);r=d(S,"DIV",{class:!0});var j=y(r);i=d(j,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-7mhb6e"&&(i.innerHTML=n),c=E(j),h=d(j,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-1uwjxvd"&&(h.innerHTML=m),_=E(j),p=d(j,"DIV",{class:!0});var R=y(p);v=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1rvuhik"&&(v.textContent=g),b=E(R),w=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-16xtti5"&&(w.textContent=x),R.forEach(f),j.forEach(f),S.forEach(f),B.forEach(f),O.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(v,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(w,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(p,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(k,O){N(k,e,O),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,_),a(r,p),a(p,v),a(p,b),a(p,w),C||(V=[K(v,"click",s[15]),K(w,"click",s[16])],C=!0)},p:Pe,d(k){k&&f(e),C=!1,qe(V)}}}function Bo(s){let e,t,l,r,i,n="Account Activation Pending<br/> Contact Admin for WebUI Access",c,h,m=`Your account status is currently pending activation. To access the WebUI, please
								reach out to the administrator(wechat: xuming624).`,_,p,v,g="Check Again",b,w,x="Sign Out",C,V;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=I(),h=u("div"),h.textContent=m,_=I(),p=u("div"),v=u("button"),v.textContent=g,b=I(),w=u("button"),w.textContent=x,this.h()},l(k){e=d(k,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var B=y(t);l=d(B,"DIV",{class:!0});var S=y(l);r=d(S,"DIV",{class:!0});var j=y(r);i=d(j,"DIV",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-1g11t2m"&&(i.innerHTML=n),c=E(j),h=d(j,"DIV",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-14l8adk"&&(h.textContent=m),_=E(j),p=d(j,"DIV",{class:!0});var R=y(p);v=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-gsehe4"&&(v.textContent=g),b=E(R),w=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-9mmxir"&&(w.textContent=x),R.forEach(f),j.forEach(f),S.forEach(f),B.forEach(f),O.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(v,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(w,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(p,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(k,O){N(k,e,O),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,_),a(r,p),a(p,v),a(p,b),a(p,w),C||(V=[K(v,"click",s[13]),K(w,"click",s[14])],C=!0)},p:Pe,d(k){k&&f(e),C=!1,qe(V)}}}function No(s){let e,t,l=s[0]&&Fs(s);return{c(){l&&l.c(),e=st()},l(r){l&&l.l(r),e=st()},m(r,i){l&&l.m(r,i),N(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&je(l,1)):(l=Fs(r),l.c(),je(l,1),l.m(e.parentNode,e)):l&&(Nt(),ze(l,1,1,()=>{l=null}),Pt())},i(r){t||(je(l),t=!0)},o(r){ze(l),t=!1},d(r){r&&f(e),l&&l.d(r)}}}function Po(s,e,t){let l,r,i,n;Ye(s,Ot,A=>t(21,l=A)),Ye(s,wt,A=>t(5,r=A)),Ye(s,$t,A=>t(6,i=A)),Ye(s,Wt,A=>t(7,n=A));let{$$slots:c={},$$scope:h}=e;const{saveAs:m}=Js;let _=!1,p,v=null,g=[],b=!1;const w=async()=>{let A=await Promise.all([await Ys(localStorage.token).catch(D=>(console.log(D),null)),await Xs(localStorage.token).catch(D=>(console.log(D),null)),await sr(localStorage.token).catch(D=>(console.log(D),null))]);return A=A.filter(D=>D).reduce((D,M,z,q)=>D.concat(M,...z<q.length-1?[{name:"hr"}]:[]),[]),A};dt(async()=>{if(r===void 0)await Tt("/auth");else if(["user","admin"].includes(r.role)){try{if(t(2,v=await dn("Chats",1)),v){const A=await v.getAllFromIndex("chats","timestamp");t(3,g=A.map((D,M)=>A[A.length-1-M])),g.length===0&&await Il("Chats")}console.log(v)}catch{}console.log(),await vt.set(await w()),await ml(),await Ht.set(JSON.parse(localStorage.getItem("settings")??"{}")),await bl.set(await vr(localStorage.token)),await yr.set(await pr(localStorage.token)),await xr.set(await kr(localStorage.token)),await Qt.set(await $s(localStorage.token)),bl.subscribe(async()=>{await vt.set(await w())}),document.addEventListener("keydown",function(A){var z,q,H,T,L;const D=A.ctrlKey||A.metaKey,M=A.shiftKey;if(D&&M&&A.key.toLowerCase()==="o"&&(A.preventDefault(),console.log("newChat"),(z=document.getElementById("sidebar-new-chat-button"))==null||z.click()),M&&A.key==="Escape"&&(A.preventDefault(),console.log("focusInput"),(q=document.getElementById("chat-textarea"))==null||q.focus()),D&&M&&A.key===";"){A.preventDefault(),console.log("copyLastCodeBlock");const F=[...document.getElementsByClassName("copy-code-button")].at(-1);F==null||F.click()}if(D&&M&&A.key.toLowerCase()==="c"){A.preventDefault(),console.log("copyLastResponse");const F=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(F),F==null||F.click()}D&&M&&A.key.toLowerCase()==="s"&&(A.preventDefault(),console.log("toggleSidebar"),(H=document.getElementById("sidebar-toggle-button"))==null||H.click()),D&&M&&A.key==="Backspace"&&(A.preventDefault(),console.log("deleteChat"),(T=document.getElementById("delete-chat-button"))==null||T.click()),D&&A.key==="."&&(A.preventDefault(),console.log("openSettings"),(L=document.getElementById("open-settings-button"))==null||L.click()),D&&A.key==="/"&&(A.preventDefault(),console.log("showShortcuts"),p.click())}),r.role==="admin"&&Wt.set(localStorage.version!==l.version),await ml()}t(0,_=!0)});function x(A){pt[A?"unshift":"push"](()=>{p=A,t(1,p)})}const C=()=>{t(4,b=!b)};function V(A){b=A,t(4,b)}const k=async()=>{location.href="/"},O=async()=>{localStorage.removeItem("token"),location.href="/auth"},B=async()=>{let A=new Blob([JSON.stringify(g)],{type:"application/json"});m(A,`chat-export-${Date.now()}.json`);const D=v.transaction("chats","readwrite");await Promise.all([D.store.clear(),D.done]),await Il("Chats"),t(3,g=[])},S=async()=>{t(3,g=[])};function j(A){i=A,$t.set(i)}function R(A){n=A,Wt.set(n)}return s.$$set=A=>{"$$scope"in A&&t(19,h=A.$$scope)},[_,p,v,g,b,r,i,n,m,c,x,C,V,k,O,B,S,j,R,h]}class ai extends ot{constructor(e){super(),it(this,e,Po,No,at,{})}}export{ai as component};
